Index: app/src/main/res/layout/fragment_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".NavigationBar.Home.HomeFragment\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/home\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:gravity=\"center\"\r\n        android:text=\"Home\"\r\n        android:label=\"Home\"\r\n        android:textSize=\"24sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_home.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/res/layout/fragment_home.xml	(date 1607607328289)
@@ -6,16 +6,127 @@
     android:layout_height="match_parent"
     tools:context=".NavigationBar.Home.HomeFragment">
 
-    <TextView
-        android:id="@+id/home"
-        android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:gravity="center"
-        android:text="Home"
-        android:label="Home"
-        android:textSize="24sp"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintTop_toTopOf="parent" />
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:orientation="vertical">
+
+
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:layout_weight="6">
+
+            <ImageView
+                android:layout_width="fill_parent"
+                android:layout_height="fill_parent"
+                android:adjustViewBounds="true"
+                android:scaleType="centerCrop"
+                android:src="@drawable/homescreen"/>
+
+        </LinearLayout>
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:layout_weight="8">
+
+            <TextView
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:text="Les Recettes du Moments"
+                android:textSize="22sp"
+                android:gravity="center">
+
+            </TextView>
+
+        </LinearLayout>
+
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:layout_weight="5"
+            android:orientation="vertical">
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_weight="1"
+                android:orientation="horizontal">
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:layout_weight="1">
+
+                    <ImageView
+                        android:id="@+id/home_image_1"
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent"
+                        android:scaleType="centerCrop"
+                        android:adjustViewBounds="true"
+                        android:layout_marginHorizontal="10dp"/>
+
+                </LinearLayout>
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:layout_weight="1">
+
+                    <ImageView
+                        android:id="@+id/home_image_2"
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent"
+                        android:scaleType="centerCrop"
+                        android:adjustViewBounds="true"
+                        android:layout_marginHorizontal="10dp"/>
+
+                </LinearLayout>
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_weight="1"
+                android:orientation="horizontal">
+
+
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:layout_weight="1">
+
+                    <ImageView
+                        android:id="@+id/home_image_3"
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent"
+                        android:scaleType="centerCrop"
+                        android:adjustViewBounds="true"
+                        android:layout_marginHorizontal="10dp"/>
+
+                </LinearLayout>
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:layout_weight="1">
+
+                    <ImageView
+                        android:id="@+id/home_image_4"
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent"
+                        android:scaleType="centerCrop"
+                        android:adjustViewBounds="true"
+                        android:layout_marginHorizontal="10dp"/>
+
+                </LinearLayout>
+
+            </LinearLayout>
 
 
+        </LinearLayout>
+
+    </LinearLayout>
+
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/res/layout/activity_affichage_recette.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".Recette.AffichageRecette\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <androidx.appcompat.widget.Toolbar\r\n            android:id=\"@+id/toolbar\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"?attr/actionBarSize\"\r\n            android:background=\"@drawable/gradient\"\r\n            android:elevation=\"4dp\"\r\n            android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\r\n            app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" />\r\n\r\n        <ScrollView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/affichage_image\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"200dp\"\r\n                    android:scaleType=\"fitCenter\"\r\n                    android:adjustViewBounds=\"true\"/>\r\n\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"20dp\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_weight=\"3\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/affichage_edit\"\r\n                            android:src=\"@drawable/ic_baseline_edit_24\"\r\n                            android:layout_width=\"40dp\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_gravity=\"center\"\r\n                            android:layout_marginTop=\"15dp\"\r\n                            android:visibility= \"invisible\"\r\n                            />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_weight=\"1\">\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/affichage_nom_recette\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_gravity=\"center\"\r\n                            android:gravity=\"center\"\r\n                            android:text=\"Recette\"\r\n                            android:textSize=\"26dp\" />\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/affichage_author\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Author_name\"\r\n                            android:layout_gravity=\"center\"\r\n                            android:gravity=\"center\"/>\r\n\r\n                        <RatingBar\r\n                            android:layout_marginTop=\"10dp\"\r\n                            android:id=\"@+id/affichage_ratingbar\"\r\n                            style=\"@style/Widget.AppCompat.RatingBar.Small\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_gravity=\"center\"\r\n                            android:max=\"5\"\r\n                            android:scaleX=\"1.5\"\r\n                            android:scaleY=\"1.5\">\r\n\r\n                        </RatingBar>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_weight=\"3\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/affichage_favoris\"\r\n                            android:layout_width=\"40dp\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_gravity=\"center\"\r\n                            android:layout_marginTop=\"15dp\"\r\n                            android:src=\"@drawable/ic_baseline_favorite_24\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_weight=\"1\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Difficulté\"\r\n                            android:gravity=\"center\"\r\n                            android:textSize=\"20dp\"/>\r\n\r\n                        <RatingBar\r\n                            android:layout_marginTop=\"7.5dp\"\r\n                            android:id=\"@+id/affichage_difficulty\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:max=\"5\"\r\n                            style=\"@style/Widget.AppCompat.RatingBar.Small\"\r\n                            android:layout_gravity=\"center\"\r\n                            android:scaleX=\"1.25\"\r\n                            android:scaleY=\"1.25\"/>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_weight=\"1\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Préparation\"\r\n                            android:gravity=\"center\"\r\n                            android:textSize=\"20dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/affichage_prep\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Temps\"\r\n                            android:gravity=\"center\"\r\n                            android:textSize=\"20dp\"/>\r\n\r\n\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_weight=\"1\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Cuisson\"\r\n                            android:gravity=\"center\"\r\n                            android:textSize=\"20dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/affichage_cuisson\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Temps\"\r\n                            android:gravity=\"center\"\r\n                            android:textSize=\"20dp\"/>\r\n\r\n                    </LinearLayout>\r\n\r\n\r\n                </LinearLayout>\r\n\r\n                <View\r\n                    android:layout_marginTop=\"20dp\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"1dp\"\r\n                    android:background=\"#d7ccc8\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"10dp\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"vertical\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"INGREDIENT\"\r\n                            android:textSize=\"20dp\"\r\n                            android:layout_marginBottom=\"10dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/affichage_ingre\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Ingredient\"\r\n                            android:textSize=\"16dp\"/>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"20dp\"\r\n                        android:orientation=\"vertical\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Recette\"\r\n                            android:textSize=\"20dp\"\r\n                            android:layout_marginBottom=\"10dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/affichage_recette\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Recette\"\r\n                            android:textSize=\"16dp\"/>\r\n\r\n\r\n                    </LinearLayout>\r\n\r\n\r\n\r\n\r\n\r\n                </LinearLayout>\r\n\r\n\r\n\r\n            </LinearLayout>\r\n\r\n\r\n\r\n\r\n        </ScrollView>\r\n\r\n\r\n    </LinearLayout>\r\n\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_affichage_recette.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/res/layout/activity_affichage_recette.xml	(date 1607636759120)
@@ -33,7 +33,7 @@
                     android:id="@+id/affichage_image"
                     android:layout_width="match_parent"
                     android:layout_height="200dp"
-                    android:scaleType="fitCenter"
+                    android:scaleType="centerCrop"
                     android:adjustViewBounds="true"/>
 
 
@@ -253,9 +253,41 @@
 
                     </LinearLayout>
 
+                </LinearLayout>
+
+                <View
+                    android:layout_marginTop="20dp"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:background="#d7ccc8"/>
 
+                <LinearLayout
+                    android:id="@+id/affichage_layout_rate"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:orientation="vertical"
+                    android:layout_margin="20dp"
+                    android:visibility="visible">
 
+                    <TextView
+                        android:gravity="center"
+                        android:layout_width="match_parent"
+                        android:layout_height="wrap_content"
+                        android:text="Vous avez aimé cette recette?"
+                        android:textSize="18dp"/>
 
+                    <RatingBar
+                        android:id="@+id/affichage_rate"
+                        android:layout_gravity="center"
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:max="5"
+                        android:scaleY="0.75"
+                        android:scaleX="0.75"
+                        android:progressTint="#ffeb3b"
+                        >
+
+                    </RatingBar>
 
                 </LinearLayout>
 
Index: app/src/main/java/com/example/projetrecette/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.projetrecette.Drawer.Login.LoginActivity;\r\nimport com.example.projetrecette.Drawer.MesRecettes.mesRecettesActivity;\r\nimport com.example.projetrecette.Drawer.MonCompte.MonCompte;\r\nimport com.example.projetrecette.Drawer.SignUp.SignUpActivity;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener{\r\n\r\n    NavController navController;\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n    StorageReference mStorageRef;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        navController = Navigation.findNavController(this, R.id.MainFragment);\r\n        drawerLayout = findViewById(R.id.drawer_layout);\r\n        navigationView = findViewById(R.id.navigationView);\r\n        mStorageRef = FirebaseStorage.getInstance().getReference();\r\n\r\n\r\n        Appbar();\r\n        Drawer();\r\n        checkLogin();\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        checkLogin();\r\n    }\r\n\r\n    public void Appbar(){\r\n        BottomNavigationView btnavView = findViewById(R.id.nav_view);\r\n\r\n        NavigationUI.setupWithNavController(btnavView, navController);\r\n    }\r\n\r\n    public void Drawer(){\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if(drawerLayout.isDrawerOpen(GravityCompat.START)){\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        }else{\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        Intent intent;\r\n        switch(item.getItemId()){\r\n            case R.id.navigation_login:\r\n                intent = new Intent(this, LoginActivity.class);\r\n                startActivity(intent);\r\n                break;\r\n            case R.id.navigation_signup:\r\n                intent = new Intent(this, SignUpActivity.class);\r\n                startActivity(intent);\r\n                break;\r\n            case R.id.navigation_profil:\r\n                intent = new Intent(this, MonCompte.class);\r\n                startActivity(intent);\r\n                break;\r\n            case R.id.navigation_vos_recettes:\r\n                intent = new Intent(this, mesRecettesActivity.class);\r\n                startActivity(intent);\r\n                break;\r\n            case R.id.navigation_signout:\r\n                FirebaseAuth.getInstance().signOut();\r\n                checkLogin();\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public void checkLogin(){\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n\r\n            /*Items*/\r\n            navigationView.getMenu().setGroupVisible(R.id.drawerLoggedIn,true);\r\n            navigationView.getMenu().setGroupVisible(R.id.drawerUnlogged,false);\r\n\r\n            /*Header*/\r\n            navigationView.removeHeaderView(navigationView.getHeaderView(0));\r\n            navigationView.inflateHeaderView(R.layout.drawer_header);\r\n\r\n            /*Initialisation*/\r\n\r\n            retrieveData();\r\n\r\n        }else{\r\n            /*Items*/\r\n            navigationView.getMenu().setGroupVisible(R.id.drawerLoggedIn,false);\r\n            navigationView.getMenu().setGroupVisible(R.id.drawerUnlogged,true);\r\n\r\n            /*Header*/\r\n            navigationView.removeHeaderView(navigationView.getHeaderView(0));\r\n            navigationView.inflateHeaderView(R.layout.drawer_header_unlogged);\r\n        }\r\n    }\r\n\r\n    public void retrieveData(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        String userid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        final TextView email = (TextView) navigationView.getHeaderView(0).findViewById(R.id.drawer_email);\r\n        final TextView fullname = (TextView) navigationView.getHeaderView(0).findViewById(R.id.drawer_fullname);\r\n        final ImageView photoProfil = (ImageView) navigationView.getHeaderView(0).findViewById(R.id.photoProfile);\r\n        db.collection(\"users\").document(userid).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                email.setText(documentSnapshot.getString(\"Email\"));\r\n                fullname.setText(documentSnapshot.getString(\"Fullname\"));\r\n                final StorageReference pathphoto = mStorageRef.child(\"Photo_de_Profil\").child(documentSnapshot.getString(\"Photo_de_Profile\"));\r\n                /* Si problème rebuild le projet */\r\n                GlideApp.with(getApplicationContext()).load(pathphoto).into(photoProfil);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/MainActivity.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/MainActivity.java	(date 1607700849284)
@@ -23,10 +23,12 @@
 import android.widget.Toast;
 
 import com.bumptech.glide.Glide;
+import com.example.projetrecette.Drawer.Aides.AidesActivity;
 import com.example.projetrecette.Drawer.Login.LoginActivity;
 import com.example.projetrecette.Drawer.MesRecettes.mesRecettesActivity;
 import com.example.projetrecette.Drawer.MonCompte.MonCompte;
 import com.example.projetrecette.Drawer.SignUp.SignUpActivity;
+import com.example.projetrecette.NavigationBar.Favorite.FavoriteFragment;
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.android.material.bottomnavigation.BottomNavigationView;
 import com.google.android.material.navigation.NavigationView;
@@ -38,6 +40,8 @@
 import com.google.firebase.storage.FirebaseStorage;
 import com.google.firebase.storage.StorageReference;
 
+import java.util.ArrayList;
+
 public class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener{
 
     NavController navController;
@@ -56,7 +60,6 @@
         navigationView = findViewById(R.id.navigationView);
         mStorageRef = FirebaseStorage.getInstance().getReference();
 
-
         Appbar();
         Drawer();
         checkLogin();
@@ -64,6 +67,7 @@
 
     }
 
+
     @Override
     protected void onResume() {
         super.onResume();
@@ -115,6 +119,11 @@
                 intent = new Intent(this, mesRecettesActivity.class);
                 startActivity(intent);
                 break;
+            case R.id.navigation_aides:
+                intent = new Intent(this, AidesActivity.class);
+                startActivity(intent);
+                break;
+
             case R.id.navigation_signout:
                 FirebaseAuth.getInstance().signOut();
                 checkLogin();
Index: app/src/main/java/com/example/projetrecette/Recette/editRecetteActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.Recette;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\n\r\nimport android.content.ContentResolver;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.text.Html;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.RatingBar;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.projetrecette.GlideApp;\r\nimport com.example.projetrecette.R;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.StorageTask;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.UUID;\r\n\r\npublic class editRecetteActivity extends AppCompatActivity {\r\n\r\n    Button btn_gluten, btn_arachid, btn_lait, btn_crustace, btn_celeri, btn_fruit, btn_moutarde, btn_poisson;\r\n    Allergie allergie;\r\n    EditText name_recette, temps_prep, temps_cook, multi_ingre, multi_recette;\r\n    RatingBar difficulty;\r\n    ImageView image;\r\n    Button btnEditRecipe;\r\n    FirebaseAuth fAuth;\r\n    FirebaseFirestore fStore;\r\n    String RecipeId;\r\n    String userId, recipeId, uploadId;\r\n    String previousImage;\r\n    StorageReference storageReference;\r\n    StorageTask mUploadTask;\r\n    Uri ImageUri;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit_recette);\r\n        addToolbar();\r\n        RecipeId = getIntent().getStringExtra(\"key\");\r\n        setAttribut();\r\n        setbtnAllergie();\r\n        onclickAllergie();\r\n        initialisation();\r\n        selectImage();\r\n        onClickEdit();\r\n    }\r\n\r\n    public void onClickEdit(){\r\n\r\n        btnEditRecipe.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String name = name_recette.getText().toString().trim();\r\n                String temps_prepation = temps_prep.getText().toString().trim();\r\n                String temps_cooking = temps_cook.getText().toString().trim();\r\n                String multi_ingredient = Html.toHtml(multi_ingre.getText());\r\n                String multi_rec =Html.toHtml(multi_recette.getText());\r\n\r\n                if(TextUtils.isEmpty(name)){\r\n                    name_recette.setError(\"Veuillez mettre un nom de recette valide!\");\r\n                    return;\r\n                }\r\n                if(TextUtils.isEmpty(temps_cooking)){\r\n                    temps_cooking = \"0\";\r\n                }\r\n\r\n                if (TextUtils.isEmpty(temps_prepation)){\r\n                    temps_prepation = \"0\";\r\n\r\n                }\r\n                if(TextUtils.isEmpty(multi_ingredient)){\r\n                    multi_ingredient = \"L'auteur n'a pas donner d'ingrédient\";\r\n                }\r\n                if(TextUtils.isEmpty(multi_rec)){\r\n                    multi_rec = \"L'auteur n'a pas donné d'étapes à suivre pour la réalisation de la recette\";\r\n                }\r\n\r\n                Map<String,Object> recipe = new HashMap<>();\r\n                recipe.put(\"Nom_Recette\", name);\r\n                recipe.put(\"Temps_Preparation\", temps_prepation);\r\n                recipe.put(\"Temps_Cuisson\", temps_cooking);\r\n                recipe.put(\"Ingredient\", multi_ingredient);\r\n                recipe.put(\"Recette\", multi_rec);\r\n                recipe.put(\"Difficulty\", String.valueOf(difficulty.getRating()));\r\n                recipe.put(\"Allergies\", allergie.sendMap());\r\n\r\n                fStore.collection(\"recipes\").document(RecipeId).update(recipe);\r\n                uploadFile(RecipeId);\r\n                onBackPressed();\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public void initialisation(){\r\n        fStore.collection(\"recipes\").document(RecipeId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                name_recette.setText(documentSnapshot.getString(\"Nom_Recette\"));\r\n                difficulty.setRating(Float.parseFloat(documentSnapshot.getString(\"Difficulty\")));\r\n                temps_prep.setText(documentSnapshot.getString(\"Temps_Preparation\"));\r\n                temps_cook.setText(documentSnapshot.getString(\"Temps_Cuisson\"));\r\n                multi_ingre.setText(Html.fromHtml(documentSnapshot.getString(\"Ingredient\")));\r\n                multi_recette.setText(Html.fromHtml(documentSnapshot.getString(\"Recette\")));\r\n                previousImage = documentSnapshot.getString(\"Recipe_Pic\");\r\n                Map<String, Boolean> mapAllergie = (Map<String, Boolean>) documentSnapshot.getData().get(\"Allergies\");\r\n                btnAllergieMap(mapAllergie);\r\n                final StorageReference pathphoto = storageReference.child(\"Recipes_pics\").child(documentSnapshot.getString(\"Recipe_Pic\"));\r\n                GlideApp.with(getApplicationContext()).load(pathphoto).into(image);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    public void btnAllergieMap(Map<String, Boolean> map){\r\n        if(map.get(\"Arachid\")){\r\n            allergie.arachid = true;\r\n            btn_arachid.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n        }\r\n        if(map.get(\"Crustacé\")){\r\n            allergie.crustace = true;\r\n            btn_crustace.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n        }\r\n        if(map.get(\"Céléri\")){\r\n            allergie.celeri = true;\r\n            btn_celeri.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n        }\r\n        if(map.get(\"Fruit_à_Coq\")){\r\n            allergie.fruitcoq = true;\r\n            btn_fruit.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n        }\r\n        if(map.get(\"Gluten\")){\r\n            allergie.gluten = true;\r\n            btn_gluten.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n        }\r\n        if(map.get(\"Lait\")){\r\n            allergie.lait = true;\r\n            btn_lait.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n        }\r\n        if(map.get(\"Moutarde\")){\r\n            allergie.moutarde = true;\r\n            btn_moutarde.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n        }\r\n        if(map.get(\"Poisson\")){\r\n            allergie.poisson = true;\r\n            btn_poisson.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    private void selectImage() {\r\n        final CharSequence[] options = { \"Take Photo\", \"Choose from Gallery\",\"Cancel\" };\r\n        image.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(view.getContext());\r\n                builder.setTitle(\"Add Photo!\");\r\n                builder.setItems(options, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int item) {\r\n                        if (options[item].equals(\"Take Photo\")) {\r\n                            /*\r\n                            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                            File f = new File(android.os.Environment.getExternalStorageDirectory(), \"temp.jpg\");\r\n                            intent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(f));\r\n                            startActivityForResult(intent, 1);\r\n                            */\r\n                            dialog.dismiss();\r\n                        } else if (options[item].equals(\"Choose from Gallery\")) {\r\n                            Intent intent = new Intent().setType(\"image/*\").setAction(Intent.ACTION_GET_CONTENT);\r\n                            startActivityForResult(intent, 2);\r\n                        } else if (options[item].equals(\"Cancel\")) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    }\r\n                });\r\n                builder.create().show();\r\n            }\r\n        });\r\n    }\r\n    private void uploadFile(final String recipeId) {\r\n        if (ImageUri != null) {\r\n            /* On utilise UUID pour obtenir une id random */\r\n            final StorageReference fileReference = storageReference.child(\"Recipes_pics\").child(UUID.randomUUID().toString()\r\n                    + \".\" + getFileExtension(ImageUri));\r\n\r\n            final DocumentReference drefRecipes = fStore.collection(\"recipes\").document(recipeId);\r\n            mUploadTask = fileReference.putFile(ImageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    drefRecipes.update(\"Recipe_Pic\", fileReference.getName());\r\n                    if(!previousImage.equals(\"default_pic.png\")){\r\n                        storageReference.child(\"Recipes_pics\").child(previousImage).delete();\r\n                    }\r\n\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast.makeText(getApplicationContext(),\"Erreur\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    public String getFileExtension(Uri uri) {\r\n        ContentResolver cR = getContentResolver();\r\n        MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n        return mime.getExtensionFromMimeType(cR.getType(uri));\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 2 && resultCode == RESULT_OK\r\n                && data != null && data.getData() != null) {\r\n            ImageUri = data.getData();\r\n            GlideApp.with(getApplicationContext()).load(ImageUri).into(image);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void setAttribut(){\r\n        name_recette = findViewById(R.id.edit_name);\r\n        temps_prep = findViewById(R.id.edit_preparation);\r\n        temps_cook = findViewById(R.id.edit_cooking);\r\n        multi_ingre = findViewById(R.id.edit_ingredient);\r\n        multi_recette = findViewById(R.id.edit_recette);\r\n        difficulty = findViewById(R.id.edit_difficulty);\r\n        btnEditRecipe = findViewById(R.id.btnEditRecette);\r\n        image = findViewById(R.id.edit_image);\r\n        fAuth = FirebaseAuth.getInstance();\r\n        fStore = FirebaseFirestore.getInstance();\r\n        userId = fAuth.getCurrentUser().getUid();\r\n        storageReference = FirebaseStorage.getInstance().getReference();\r\n        allergie = new Allergie();\r\n    }\r\n\r\n\r\n\r\n    public void setbtnAllergie(){\r\n\r\n        btn_gluten = findViewById(R.id.edit_gluten);\r\n        btn_arachid  = findViewById(R.id.edit_arachide);\r\n        btn_lait = findViewById(R.id.edit_lait);\r\n        btn_crustace = findViewById(R.id.edit_crustace);\r\n        btn_celeri = findViewById(R.id.edit_celeri);\r\n        btn_fruit = findViewById(R.id.edit_fruitcoq);\r\n        btn_moutarde = findViewById(R.id.edit_moutarde);\r\n        btn_poisson = findViewById(R.id.edit_poisson);\r\n    }\r\n\r\n    public void onclickAllergie(){\r\n        btn_gluten.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setGluten(!allergie.gluten);\r\n                if(allergie.gluten){\r\n                    btn_gluten.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_gluten.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_arachid.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setArachid(!allergie.arachid);\r\n                if(allergie.arachid){\r\n                    btn_arachid.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_arachid.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_lait.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setLait(!allergie.lait);\r\n                if(allergie.lait){\r\n                    btn_lait.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_lait.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_crustace.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setCrustace(!allergie.crustace);\r\n                if(allergie.crustace){\r\n                    btn_crustace.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_crustace.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_celeri.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setCeleri(!allergie.celeri);\r\n                if(allergie.celeri){\r\n                    btn_celeri.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_celeri.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_fruit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setFruitcoq(!allergie.fruitcoq);\r\n                if(allergie.fruitcoq){\r\n                    btn_fruit.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_fruit.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_moutarde.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setMoutarde(!allergie.moutarde);\r\n                if(allergie.moutarde){\r\n                    btn_moutarde.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_moutarde.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_poisson.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setPoisson(!allergie.poisson);\r\n                if(allergie.poisson){\r\n                    btn_poisson.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_poisson.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void addToolbar(){\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        onBackPressed();\r\n        return true;\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/Recette/editRecetteActivity.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/Recette/editRecetteActivity.java	(date 1607690403752)
@@ -21,6 +21,7 @@
 import android.widget.RatingBar;
 import android.widget.Toast;
 
+import com.example.projetrecette.Drawer.MesRecettes.mesRecettesActivity;
 import com.example.projetrecette.GlideApp;
 import com.example.projetrecette.R;
 import com.google.android.gms.tasks.OnCompleteListener;
@@ -36,6 +37,7 @@
 import com.google.firebase.storage.StorageTask;
 import com.google.firebase.storage.UploadTask;
 
+import java.util.ArrayList;
 import java.util.HashMap;
 import java.util.Map;
 import java.util.UUID;
@@ -47,11 +49,11 @@
     EditText name_recette, temps_prep, temps_cook, multi_ingre, multi_recette;
     RatingBar difficulty;
     ImageView image;
-    Button btnEditRecipe;
+    Button btnEditRecipe, btnDeleteRecipe;
     FirebaseAuth fAuth;
     FirebaseFirestore fStore;
     String RecipeId;
-    String userId, recipeId, uploadId;
+    String userId;
     String previousImage;
     StorageReference storageReference;
     StorageTask mUploadTask;
@@ -69,7 +71,38 @@
         initialisation();
         selectImage();
         onClickEdit();
+        onClickDelete();
     }
+
+
+    public void onClickDelete(){
+        this.btnDeleteRecipe = findViewById(R.id.btnDelRecette);
+
+        btnDeleteRecipe.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                fStore.collection("recipes").document(RecipeId).delete();
+                if(!previousImage.equals("default_pic.png")){
+                    storageReference.child("Recipes_pics").child(previousImage).delete();
+                }
+                fStore.collection("users").document(userId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
+                    @Override
+                    public void onSuccess(DocumentSnapshot documentSnapshot) {
+                        ArrayList<String> o = (ArrayList<String>) documentSnapshot.getData().get("Mes_Recettes");
+                        o.remove(RecipeId);
+                        fStore.collection("users").document(userId).update("Mes_Recettes", o);
+                    }
+                });
+
+
+                Intent i = new Intent(editRecetteActivity.this, mesRecettesActivity.class);
+                i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
+                startActivity(i);
+            }
+        });
+
+    }
+
 
     public void onClickEdit(){
 
@@ -141,35 +174,35 @@
     }
 
     public void btnAllergieMap(Map<String, Boolean> map){
-        if(map.get("Arachid")){
+        if(map.get("arachid")){
             allergie.arachid = true;
             btn_arachid.setBackgroundColor(Color.parseColor("#fce4ec"));
         }
-        if(map.get("Crustacé")){
+        if(map.get("crustace")){
             allergie.crustace = true;
             btn_crustace.setBackgroundColor(Color.parseColor("#fce4ec"));
         }
-        if(map.get("Céléri")){
+        if(map.get("celeri")){
             allergie.celeri = true;
             btn_celeri.setBackgroundColor(Color.parseColor("#fce4ec"));
         }
-        if(map.get("Fruit_à_Coq")){
+        if(map.get("fruitcoq")){
             allergie.fruitcoq = true;
             btn_fruit.setBackgroundColor(Color.parseColor("#fce4ec"));
         }
-        if(map.get("Gluten")){
+        if(map.get("gluten")){
             allergie.gluten = true;
             btn_gluten.setBackgroundColor(Color.parseColor("#fce4ec"));
         }
-        if(map.get("Lait")){
+        if(map.get("lait")){
             allergie.lait = true;
             btn_lait.setBackgroundColor(Color.parseColor("#fce4ec"));
         }
-        if(map.get("Moutarde")){
+        if(map.get("moutarde")){
             allergie.moutarde = true;
             btn_moutarde.setBackgroundColor(Color.parseColor("#fce4ec"));
         }
-        if(map.get("Poisson")){
+        if(map.get("poisson")){
             allergie.poisson = true;
             btn_poisson.setBackgroundColor(Color.parseColor("#fce4ec"));
         }
Index: app/src/main/res/menu/drawer_menu.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n\r\n\r\n    <group\r\n        android:id=\"@+id/drawerUnlogged\"\r\n        android:checkableBehavior=\"single\"\r\n        android:visible=\"true\">\r\n        <item\r\n            android:id=\"@+id/navigation_login\"\r\n            android:icon=\"@drawable/ic_baseline_account_box_24\"\r\n            android:title=\"@string/title_login\" />\r\n\r\n        <item\r\n            android:id=\"@+id/navigation_signup\"\r\n            android:icon=\"@drawable/ic_baseline_person_add_24\"\r\n            android:title=\"@string/title_signup\" />\r\n\r\n        <item\r\n            android:id=\"@+id/navigation_information\"\r\n            android:icon=\"@drawable/ic_baseline_info_24\"\r\n            android:title=\"@string/title_information\" />\r\n    </group>\r\n\r\n    <group\r\n        android:id=\"@+id/drawerLoggedIn\"\r\n        android:checkableBehavior=\"single\"\r\n        android:visible=\"false\">\r\n\r\n        <item\r\n            android:id=\"@+id/navigation_profil\"\r\n            android:icon=\"@drawable/ic_baseline_account_box_24\"\r\n            android:title=\"@string/title_profil\" />\r\n        <item\r\n            android:id=\"@+id/navigation_vos_recettes\"\r\n            android:icon=\"@drawable/ic_baseline_book_24\"\r\n            android:title=\"@string/title_vos_recettes\" />\r\n        <item\r\n            android:id=\"@+id/navigation_parametres\"\r\n            android:icon=\"@drawable/ic_baseline_settings_24\"\r\n            android:title=\"@string/title_parametres\" />\r\n        <item\r\n            android:id=\"@+id/navigation_signout\"\r\n            android:icon=\"@drawable/ic_baseline_exit_to_app_24\"\r\n            android:title=\"@string/title_signout\" />\r\n\r\n\r\n    </group>\r\n\r\n\r\n\r\n</menu>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/menu/drawer_menu.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/res/menu/drawer_menu.xml	(date 1607691626506)
@@ -36,9 +36,9 @@
             android:icon="@drawable/ic_baseline_book_24"
             android:title="@string/title_vos_recettes" />
         <item
-            android:id="@+id/navigation_parametres"
-            android:icon="@drawable/ic_baseline_settings_24"
-            android:title="@string/title_parametres" />
+            android:id="@+id/navigation_aides"
+            android:icon="@drawable/ic_baseline_help_24"
+            android:title="@string/aides" />
         <item
             android:id="@+id/navigation_signout"
             android:icon="@drawable/ic_baseline_exit_to_app_24"
Index: app/src/main/res/layout/activity_edit_recette.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".Recette.editRecetteActivity\">\r\n\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <androidx.appcompat.widget.Toolbar\r\n            android:id=\"@+id/toolbar\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"?attr/actionBarSize\"\r\n            android:background=\"@drawable/gradient\"\r\n            android:elevation=\"4dp\"\r\n            android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\r\n            app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" />\r\n\r\n        <ScrollView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:layout_marginVertical=\"40dp\">\r\n\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:gravity=\"center\"\r\n                            android:text=\"Editer votre Recette\"\r\n                            android:textColor=\"@color/colorAccent\"\r\n                            android:textSize=\"26sp\" />\r\n\r\n                    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/edit_information\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_margin=\"20dp\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Informations\"\r\n                        android:textColor=\"@color/colorAccent\"\r\n                        android:textSize=\"22sp\"\r\n                        />\r\n\r\n\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/edit_name\"\r\n                        android:layout_width=\"280dp\"\r\n                        android:layout_height=\"50dp\"\r\n                        android:layout_gravity=\"left\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:hint=\"Nom de la Recette\"\r\n                        android:inputType=\"textPersonName\" />\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"10dp\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\" Difficulté : \"\r\n                            android:textSize=\"18sp\"\r\n                            android:layout_gravity=\"center\"\r\n                            />\r\n\r\n                        <RatingBar\r\n                            android:id=\"@+id/edit_difficulty\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:max=\"5\"\r\n                            android:scaleX=\".7\"\r\n                            android:scaleY=\".7\"\r\n                            android:numStars=\"5\"\r\n                            android:progressBackgroundTint=\"#ffcdd2\"\r\n                            android:progressTint=\"#ff6e60\"\r\n                            android:saveEnabled=\"true\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"10dp\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Temps de préparation :\"\r\n                            android:textSize=\"18sp\"\r\n                            android:layout_gravity=\"center\"/>\r\n\r\n\r\n                        <EditText\r\n                            android:id=\"@+id/edit_preparation\"\r\n                            android:layout_width=\"100dp\"\r\n                            android:layout_height=\"50dp\"\r\n                            android:layout_gravity=\"center_horizontal\"\r\n                            android:hint=\"Minute\"\r\n                            android:inputType=\"number\"\r\n                            android:layout_marginLeft=\"20dp\"/>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"10dp\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Temps de cuisson :\"\r\n                            android:textSize=\"18sp\"\r\n                            android:layout_gravity=\"center\"/>\r\n\r\n\r\n                        <EditText\r\n                            android:id=\"@+id/edit_cooking\"\r\n                            android:layout_width=\"100dp\"\r\n                            android:layout_height=\"50dp\"\r\n                            android:layout_gravity=\"center_horizontal\"\r\n                            android:layout_marginLeft=\"20dp\"\r\n                            android:hint=\"Minute\"\r\n                            android:inputType=\"number\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_margin=\"20dp\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Ingrédients\"\r\n                        android:textColor=\"@color/colorAccent\"\r\n                        android:textSize=\"22sp\"\r\n                        />\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/edit_ingredient\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:inputType=\"textMultiLine\"\r\n                        android:minLines=\"4\"\r\n                        android:scrollbars=\"vertical\"\r\n                        android:layout_gravity=\"right\"\r\n                        android:gravity=\"top\"\r\n                        android:hint=\"Ecrire ici les ingrédients nécéssaire pour votre recette...\\nExemple : x9 Tomates\"/>\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_margin=\"20dp\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Recette\"\r\n                        android:textColor=\"@color/colorAccent\"\r\n                        android:textSize=\"22sp\"\r\n                        />\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/edit_recette\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:inputType=\"textMultiLine\"\r\n                        android:minLines=\"4\"\r\n                        android:scrollbars=\"vertical\"\r\n                        android:layout_gravity=\"right\"\r\n                        android:gravity=\"top\"\r\n                        android:hint=\"Ecrire ici les étapes à la réalisation de votre recette.\\nExemple : Etape 1 - Bouillir de l'eau\"/>\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_margin=\"20dp\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Allergies\"\r\n                        android:textColor=\"@color/colorAccent\"\r\n                        android:textSize=\"22sp\" />\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:layout_marginTop=\"15dp\">\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_margin=\"3dp\"\r\n                            android:layout_weight=\"1\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <Button\r\n                                android:id=\"@+id/edit_gluten\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:background=\"#eeeeee\"\r\n                                android:text=\"Gluten\"/>\r\n\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_margin=\"3dp\"\r\n                            android:layout_weight=\"1\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <Button\r\n                                android:id=\"@+id/edit_arachide\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:background=\"#eeeeee\"\r\n                                android:text=\"Arachide\"/>\r\n\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_weight=\"1\"\r\n                            android:layout_margin=\"3dp\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <Button\r\n                                android:id=\"@+id/edit_lait\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:background=\"#eeeeee\"\r\n                                android:text=\"Lait\"/>\r\n\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_margin=\"3dp\"\r\n                            android:layout_weight=\"1\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <Button\r\n                                android:id=\"@+id/edit_crustace\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:text=\"Crustacé\"\r\n                                android:background=\"#eeeeee\"\r\n                                android:textSize=\"13sp\"/>\r\n\r\n                        </LinearLayout>\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"horizontal\"\r\n                        >\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_weight=\"1\"\r\n                            android:layout_margin=\"3dp\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <Button\r\n                                android:id=\"@+id/edit_celeri\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:text=\"Célèri\"\r\n                                android:background=\"#eeeeee\"/>\r\n\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_margin=\"3dp\"\r\n                            android:layout_weight=\"1\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <Button\r\n                                android:id=\"@+id/edit_fruitcoq\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:text=\"Fruits à Coque\"\r\n                                android:background=\"#eeeeee\"/>\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_margin=\"3dp\"\r\n                            android:layout_weight=\"1\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <Button\r\n                                android:id=\"@+id/edit_poisson\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:text=\"Poisson\"\r\n                                android:background=\"#eeeeee\"/>\r\n\r\n                        </LinearLayout>\r\n\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_margin=\"3dp\"\r\n                            android:layout_weight=\"1\"\r\n                            android:orientation=\"vertical\">\r\n\r\n                            <Button\r\n                                android:id=\"@+id/edit_moutarde\"\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:text=\"Moutarde\"\r\n                                android:background=\"#eeeeee\"\r\n                                android:textSize=\"13sp\"/>\r\n                        </LinearLayout>\r\n\r\n                    </LinearLayout>\r\n\r\n                </LinearLayout>\r\n\r\n\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/edit_illustration\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_margin=\"20dp\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Image pour illustrer votre recette\"\r\n                        android:textColor=\"@color/colorAccent\"\r\n                        android:textSize=\"22sp\"\r\n                        />\r\n\r\n                    <LinearLayout\r\n\r\n                        android:orientation=\"horizontal\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"150dp\"\r\n                        android:layout_marginHorizontal=\"50dp\"\r\n                        android:layout_marginVertical=\"10dp\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/edit_image\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:src=\"@drawable/ic_baseline_add_circle_24\">\r\n\r\n                        </ImageView>\r\n\r\n                    </LinearLayout>\r\n\r\n                </LinearLayout>\r\n\r\n\r\n\r\n                <Button\r\n                    android:id=\"@+id/btnEditRecette\"\r\n                    android:layout_margin=\"20dp\"\r\n                    android:layout_width=\"150dp\"\r\n                    android:layout_height=\"50dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:background=\"@drawable/gradient\"\r\n                    android:text=\"Editer la recette\"\r\n                    android:textColor=\"@color/common_google_signin_btn_text_dark_default\" />\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            </LinearLayout>\r\n\r\n\r\n\r\n\r\n\r\n        </ScrollView>\r\n\r\n    </LinearLayout>\r\n\r\n\r\n\r\n</RelativeLayout>\r\n\r\n\r\n\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_edit_recette.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/res/layout/activity_edit_recette.xml	(date 1607464339110)
@@ -418,6 +418,18 @@
                     android:text="Editer la recette"
                     android:textColor="@color/common_google_signin_btn_text_dark_default" />
 
+                <Button
+                    android:id="@+id/btnDelRecette"
+                    android:layout_margin="20dp"
+                    android:layout_width="150dp"
+                    android:layout_height="50dp"
+                    android:layout_gravity="center"
+                    android:background="#e53935"
+                    android:text="Supprimer la Recette"
+                    android:textColor="@color/common_google_signin_btn_text_dark_default" />
+
+
+
 
 
 
Index: app/src/main/res/layout/single_item_recipe.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/recycler_view\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_marginHorizontal=\"20dp\"\r\n        android:layout_marginVertical=\"10dp\">\r\n\r\n        <ImageView\r\n            android:id=\"@+id/recipe_image\"\r\n            android:layout_width=\"80dp\"\r\n            android:layout_height=\"80dp\"\r\n            android:layout_marginRight=\"20dp\"\r\n            tools:srcCompat=\"@tools:sample/avatars\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/recipe_name\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_toRightOf=\"@id/recipe_image\"\r\n            android:text=\"Recipe name\"\r\n            android:textSize=\"18sp\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/recipe_author\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/recipe_name\"\r\n            android:layout_toRightOf=\"@id/recipe_image\"\r\n            android:text=\"Recipe author\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/recipe_time\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignBottom=\"@id/recipe_image\"\r\n            android:layout_toRightOf=\"@id/recipe_image\"\r\n            android:text=\"Cooking time\" />\r\n\r\n        <RatingBar\r\n            android:id=\"@+id/recipe_rating\"\r\n            style=\"?android:attr/ratingBarStyleSmall\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignBottom=\"@id/recipe_image\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:isIndicator=\"true\"\r\n            android:layout_alignParentRight=\"true\"\r\n            android:layout_marginEnd=\"6dp\"\r\n            android:layout_marginRight=\"6dp\"\r\n            android:layout_marginBottom=\"2dp\"\r\n            android:max=\"5\"\r\n            android:numStars=\"5\"\r\n            android:scaleX=\"1.10\"\r\n            android:scaleY=\"1.10\"\r\n            android:text=\"Rating\" />\r\n\r\n    </RelativeLayout>\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/single_item_recipe.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/res/layout/single_item_recipe.xml	(date 1607687574933)
@@ -3,63 +3,231 @@
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
-    android:layout_height="wrap_content">
+    android:layout_height="wrap_content"
+    android:orientation="horizontal"
+    android:layout_marginHorizontal="5dp"
+    android:layout_marginVertical="5dp">
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:layout_weight="1">
 
-    <RelativeLayout
-        android:id="@+id/recycler_view"
-        android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:layout_marginHorizontal="20dp"
-        android:layout_marginVertical="10dp">
+        <RelativeLayout
+            android:id="@+id/recycler_view"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            >
 
-        <ImageView
-            android:id="@+id/recipe_image"
-            android:layout_width="80dp"
-            android:layout_height="80dp"
-            android:layout_marginRight="20dp"
-            tools:srcCompat="@tools:sample/avatars" />
+            <ImageView
+                android:id="@+id/recipe_image"
+                android:layout_width="80dp"
+                android:layout_height="80dp"
+                android:layout_marginRight="20dp"
+                android:scaleType="centerCrop"
+                tools:srcCompat="@tools:sample/avatars" />
 
-        <TextView
-            android:id="@+id/recipe_name"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_toRightOf="@id/recipe_image"
-            android:text="Recipe name"
-            android:textSize="18sp" />
+            <TextView
+                android:id="@+id/recipe_name"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_toRightOf="@id/recipe_image"
+                android:text="Recipe name"
+                android:textSize="18sp" />
 
-        <TextView
-            android:id="@+id/recipe_author"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_below="@id/recipe_name"
-            android:layout_toRightOf="@id/recipe_image"
-            android:text="Recipe author" />
+            <TextView
+                android:id="@+id/recipe_author"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_below="@id/recipe_name"
+                android:layout_toRightOf="@id/recipe_image"
+                android:text="Recipe author" />
 
-        <TextView
-            android:id="@+id/recipe_time"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_alignBottom="@id/recipe_image"
-            android:layout_toRightOf="@id/recipe_image"
-            android:text="Cooking time" />
-
-        <RatingBar
-            android:id="@+id/recipe_rating"
-            style="?android:attr/ratingBarStyleSmall"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_alignBottom="@id/recipe_image"
-            android:layout_alignParentEnd="true"
-            android:isIndicator="true"
-            android:layout_alignParentRight="true"
-            android:layout_marginEnd="6dp"
-            android:layout_marginRight="6dp"
-            android:layout_marginBottom="2dp"
-            android:max="5"
-            android:numStars="5"
-            android:scaleX="1.10"
-            android:scaleY="1.10"
-            android:text="Rating" />
+            <RatingBar
+                android:id="@+id/recipe_rating"
+                style="?android:attr/ratingBarStyleSmall"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_alignBottom="@id/recipe_image"
+
+
+                android:layout_toEndOf="@+id/recipe_image"
+                android:isIndicator="true"
+                android:max="5"
+                android:numStars="5"
+                android:scaleX="1.10"
+                android:scaleY="1.10"
+                android:text="Rating" />
 
-    </RelativeLayout>
+        </RelativeLayout>
+
+    </LinearLayout>
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:layout_weight="4"
+        android:orientation="horizontal">
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:orientation="vertical"
+            android:layout_weight="1">
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_weight="1">
+
+                <TextView
+                    android:id="@+id/item_gluten"
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center"
+                    android:text="G"
+                    android:textColor="@color/colorAccent"
+                    android:visibility="invisible">
+
+                </TextView>
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_weight="1">
+
+                <TextView
+                    android:id="@+id/item_arachid"
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center"
+                    android:text="A"
+                    android:textColor="@color/colorAccent"
+                    android:visibility="invisible">
+                </TextView>
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_weight="1">
+
+                <TextView
+                    android:id="@+id/item_lait"
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center"
+                    android:text="L"
+                    android:textColor="@color/colorAccent"
+                    android:visibility="invisible">
+                </TextView>
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_weight="1">
+
+                <TextView
+                    android:id="@+id/item_crustace"
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center"
+                    android:text="CR"
+                    android:textColor="@color/colorAccent"
+                    android:visibility="invisible">
+                </TextView>
+
+            </LinearLayout>
+
+        </LinearLayout>
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:orientation="vertical"
+            android:layout_weight="1">
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_weight="1">
+
+                <TextView
+                    android:id="@+id/item_celeri"
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center"
+                    android:text="CE"
+                    android:textColor="@color/colorAccent"
+                    android:visibility="invisible">
+                </TextView>
+
+
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_weight="1">
+
+                <TextView
+                    android:id="@+id/item_fruit"
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center"
+                    android:text="F"
+                    android:textColor="@color/colorAccent"
+                    android:visibility="invisible">
+                </TextView>
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_weight="1">
+
+                <TextView
+                    android:id="@+id/item_poisson"
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center"
+                    android:text="P"
+                    android:textColor="@color/colorAccent"
+                    android:visibility="invisible">
+                </TextView>
+
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_weight="1">
+
+                <TextView
+                    android:id="@+id/item_moutarde"
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center"
+                    android:text="M"
+                    android:textColor="@color/colorAccent"
+                    android:visibility="invisible">
+                </TextView>
+
+            </LinearLayout>
+
+        </LinearLayout>
+
+
+
+    </LinearLayout>
+
+
 </LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/projetrecette/Drawer/MonCompte/MonCompte.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.Drawer.MonCompte;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\n\r\nimport android.content.ContentResolver;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.projetrecette.GlideApp;\r\nimport com.example.projetrecette.MainActivity;\r\nimport com.example.projetrecette.R;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.StorageTask;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.sql.SQLOutput;\r\nimport java.util.UUID;\r\n\r\npublic class MonCompte extends AppCompatActivity {\r\n\r\n    NavigationView navigationView;\r\n    private static final int GALLERY_REQUEST_CODE = 123;\r\n    ImageView ProfilPicture;\r\n    //Button edit;\r\n    TextView fullname, email;\r\n    FirebaseAuth fAuth;\r\n    FirebaseFirestore fStore;\r\n    String userId, pictureDeleted;\r\n    StorageReference storageReference;\r\n    StorageTask mUploadTask;\r\n    DocumentReference drefProfil;\r\n    Uri ImageUri;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_mon_compte);\r\n        addToolbar();\r\n        setAttribut();\r\n        setProfilPicture();\r\n        selectImage();\r\n        onEmailClicked();\r\n\r\n\r\n\r\n    }\r\n\r\n    public void addToolbar(){\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        onBackPressed();\r\n        return true;\r\n    }\r\n\r\n\r\n    public void onEmailClicked(){\r\n        email.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MonCompte.this,ChangeEmail.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void setProfilPicture(){\r\n        drefProfil.get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                final StorageReference pathphoto = storageReference.child(\"Photo_de_Profil\").child(documentSnapshot.getString(\"Photo_de_Profile\"));\r\n                GlideApp.with(getApplicationContext()).load(pathphoto).into(ProfilPicture);\r\n                //GlideApp.with(getApplicationContext()).load(pathphoto).into(email);\r\n                email.setText(documentSnapshot.getString(\"Email\"));\r\n                fullname.setText(documentSnapshot.getString(\"Fullname\"));\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == GALLERY_REQUEST_CODE && resultCode == RESULT_OK && data != null && data.getData() != null) {\r\n            ImageUri = data.getData();\r\n            uploadFile();\r\n            ProfilPicture.setImageURI(ImageUri);\r\n        }\r\n    }\r\n\r\n    public String getFileExtension(Uri uri) {\r\n        ContentResolver cR = getContentResolver();\r\n        MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n        return mime.getExtensionFromMimeType(cR.getType(uri));\r\n    }\r\n\r\n    private void deleteFormerPicture(){\r\n        drefProfil.get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                final StorageReference pathphoto = storageReference.child(\"Photo_de_Profil\").child(pictureDeleted);\r\n                final StorageReference storageReferenceUrl = FirebaseStorage.getInstance().getReferenceFromUrl(pathphoto.toString());\r\n                System.err.println(\"url = \"+ storageReferenceUrl);\r\n                if(!pictureDeleted.equals(\"default_pic.png\")) {\r\n                    storageReferenceUrl.delete().addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                        @Override\r\n                        public void onSuccess(Void aVoid) {\r\n                            //Log.d(pictureDeleted, \"onSuccess: deleted file\");\r\n                            System.err.println(\"Successfully deleted\");\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception exception) {\r\n                            // Uh-oh, an error occurred!\r\n                            //Log.d(pictureDeleted, \"onFailure: did not delete file\");\r\n                            System.err.println(\"Error: did not delete file\");\r\n                        }\r\n                    });}\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    private void uploadFile() {\r\n        if (ImageUri != null) {\r\n            /* On utilise UUID pour obtenir une id random */\r\n            final StorageReference fileReference = storageReference.child(\"Photo_de_Profil\").child(UUID.randomUUID().toString()\r\n                    + \".\" + getFileExtension(ImageUri));\r\n\r\n            mUploadTask = fileReference.putFile(ImageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    drefProfil.update(\"Photo_de_Profile\", fileReference.getName());\r\n                    deleteFormerPicture();\r\n                    Toast.makeText(getApplicationContext(),\"Changement réussis\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast.makeText(getApplicationContext(),\"Erreur\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void selectImage() {\r\n        final CharSequence[] options = { \"Prendre une Photo\", \"Choisir une photo existante\",\"Retirer la photo de profil\",\"Annuler\" };\r\n        ProfilPicture.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(view.getContext());\r\n                builder.setTitle(\"Modifier\");\r\n                builder.setItems(options, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int item) {\r\n                        if (options[item].equals(\"Prendre une Photo\")) {\r\n                            /*\r\n                            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                            File f = new File(android.os.Environment.getExternalStorageDirectory(), \"temp.jpg\");\r\n                            intent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(f));\r\n                            startActivityForResult(intent, 1);\r\n                            */\r\n                            dialog.dismiss();\r\n                        } else if (options[item].equals(\"Choisir une photo existante\")) {\r\n                            Intent intent = new Intent().setType(\"image/*\").setAction(Intent.ACTION_GET_CONTENT);\r\n                            startActivityForResult(intent, GALLERY_REQUEST_CODE);\r\n                        } else if(options[item].equals(\"Retirer la photo de profil\")){\r\n                            drefProfil.update(\"Photo_de_Profile\", \"default_pic.png\");\r\n                            final StorageReference pathphoto = storageReference.child(\"Photo_de_Profil\").child(\"default_pic.png\");\r\n                            GlideApp.with(getApplicationContext()).load(pathphoto).into(ProfilPicture);\r\n                            deleteFormerPicture();\r\n                            Toast.makeText(getApplicationContext(),\"changement réussis\", Toast.LENGTH_SHORT).show();\r\n                        } else if (options[item].equals(\"Annuler\")) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    }\r\n                });\r\n                builder.create().show();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void getFormerPicture(){\r\n        drefProfil.get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                pictureDeleted = documentSnapshot.getString(\"Photo_de_Profile\");\r\n            }\r\n        });\r\n    }\r\n\r\n    private void setAttribut(){\r\n        fAuth = FirebaseAuth.getInstance();\r\n        fStore =FirebaseFirestore.getInstance();\r\n        userId = fAuth.getCurrentUser().getUid();\r\n        drefProfil = fStore.collection(\"users\").document(userId);\r\n        getFormerPicture();\r\n        storageReference = FirebaseStorage.getInstance().getReference();\r\n        ProfilPicture = findViewById(R.id.photoProfile);\r\n        navigationView = findViewById(R.id.navigationView);\r\n        fullname = findViewById(R.id.account_fullname);\r\n        email = findViewById(R.id.account_email);\r\n        //edit = findViewById(R.id.edit_button);\r\n        //Utiliser ces méthodes pour changer el mot de pass, ou le mail,\r\n        //fAuth.getCurrentUser(userId).updatePassword()\r\n    }\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/Drawer/MonCompte/MonCompte.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/Drawer/MonCompte/MonCompte.java	(date 1607611313880)
@@ -44,7 +44,7 @@
     private static final int GALLERY_REQUEST_CODE = 123;
     ImageView ProfilPicture;
     //Button edit;
-    TextView fullname, email;
+    TextView fullname, email, changeEmail, changefullname;
     FirebaseAuth fAuth;
     FirebaseFirestore fStore;
     String userId, pictureDeleted;
@@ -82,7 +82,7 @@
 
 
     public void onEmailClicked(){
-        email.setOnClickListener(new View.OnClickListener() {
+        changeEmail.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
                 Intent intent = new Intent(MonCompte.this,ChangeEmail.class);
@@ -231,6 +231,8 @@
         navigationView = findViewById(R.id.navigationView);
         fullname = findViewById(R.id.account_fullname);
         email = findViewById(R.id.account_email);
+        changeEmail = findViewById(R.id.change_email);
+        changefullname = findViewById(R.id.change_username);
         //edit = findViewById(R.id.edit_button);
         //Utiliser ces méthodes pour changer el mot de pass, ou le mail,
         //fAuth.getCurrentUser(userId).updatePassword()
Index: app/src/main/java/com/example/projetrecette/Drawer/MesRecettes/mesRecettesActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.Drawer.MesRecettes;\r\n\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport android.content.Intent;\r\nimport android.media.Image;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.RatingBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.projetrecette.GlideApp;\r\nimport com.example.projetrecette.R;\r\nimport com.example.projetrecette.Recette.AffichageRecette;\r\nimport com.example.projetrecette.Recette.RecipeModel;\r\nimport com.example.projetrecette.Recette.newRecetteActivity;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\npublic class mesRecettesActivity extends AppCompatActivity {\r\n\r\n    ImageView btnAddRecette;\r\n    StorageReference mStorageRef;\r\n    FirebaseAuth fAuth;\r\n    FirebaseFirestore fStore;\r\n    String userId;\r\n    RecyclerView mResultList;\r\n    FirestoreRecyclerAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_mes_recettes);\r\n        btnAddRecette = findViewById(R.id.add_recette);\r\n        addToolbar();\r\n        setAttribut();\r\n        onClickAddRecette();\r\n        getQuery();\r\n\r\n    }\r\n\r\n    public void getQuery(){\r\n        Query query = fStore.collection(\"recipes\").whereEqualTo(\"Auteur\", userId);\r\n        FirestoreRecyclerOptions<RecipeModel> options = new FirestoreRecyclerOptions.Builder<RecipeModel>().setQuery(query, RecipeModel.class).build();\r\n        adapter = new FirestoreRecyclerAdapter<RecipeModel, RecipeModelViewHolder>(options) {\r\n\r\n            @NonNull\r\n            @Override\r\n            public RecipeModelViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_item_recipe, parent, false);\r\n                return new RecipeModelViewHolder(view);\r\n            }\r\n\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull RecipeModelViewHolder holder, final int position, @NonNull final RecipeModel model) {\r\n                holder.setRecipe(model);\r\n            }\r\n        };\r\n\r\n        mResultList.setLayoutManager(new LinearLayoutManager(this));\r\n        mResultList.setAdapter(adapter);\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n\r\n    private class RecipeModelViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n\r\n        TextView name, author, cookingtime;\r\n        RatingBar rating;\r\n        ImageView image;\r\n        String recipeid;\r\n\r\n\r\n\r\n        public RecipeModelViewHolder(@NonNull View itemView){\r\n            super(itemView);\r\n            this.name = itemView.findViewById(R.id.recipe_name);\r\n            this.author = itemView.findViewById(R.id.recipe_author);\r\n            this.cookingtime = itemView.findViewById(R.id.recipe_time);\r\n            this.rating = itemView.findViewById(R.id.recipe_rating);\r\n            this.image = itemView.findViewById(R.id.recipe_image);\r\n            itemView.setOnClickListener(this);\r\n\r\n        }\r\n\r\n\r\n\r\n        public void setRecipe(RecipeModel recipe){\r\n            String temps = \"Temps : \" + recipe.getTemps_Cuisson() + \" minutes\";\r\n            this.name.setText(recipe.getNom_Recette());\r\n            this.cookingtime.setText(temps);\r\n            this.rating.setRating(Float.parseFloat(recipe.getRating()));\r\n            this.recipeid = recipe.getRecipe_id();\r\n\r\n            final TextView aut = this.author;\r\n            final ImageView img = this.image;\r\n\r\n            /*Get Username*/\r\n            fStore = FirebaseFirestore.getInstance();\r\n            fStore.collection(\"users\").document(recipe.getAuteur()).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n                @Override\r\n                public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                    String auteur = \"Par \" + documentSnapshot.getString(\"Fullname\");\r\n                    aut.setText(auteur);\r\n                }\r\n            });\r\n\r\n            /*Get Photo*/\r\n            if(recipe.getRecipe_id().equals(\"placeholder\") == false){\r\n                fStore.collection(\"recipes\").document(recipe.getRecipe_id()).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                        final StorageReference pathphoto1 = mStorageRef.child(\"Recipes_pics\").child(documentSnapshot.getString(\"Recipe_Pic\"));\r\n                        /* Si problème rebuild le projet */\r\n                        GlideApp.with(getApplicationContext()).load(pathphoto1).into(img);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            Intent i = new Intent(getApplicationContext(), AffichageRecette.class);\r\n            i.putExtra(\"key\", recipeid);\r\n            startActivity(i);\r\n        }\r\n    }\r\n\r\n\r\n    public void onClickAddRecette(){\r\n        btnAddRecette.setOnClickListener((new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getApplicationContext(), newRecetteActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        }));\r\n    }\r\n\r\n    public void setAttribut(){\r\n        fStore = FirebaseFirestore.getInstance();\r\n        fAuth = FirebaseAuth.getInstance();\r\n        userId = fAuth.getCurrentUser().getUid();\r\n        mResultList = findViewById(R.id.recycler_view);\r\n        mStorageRef = FirebaseStorage.getInstance().getReference();\r\n\r\n    }\r\n\r\n    public void addToolbar(){\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        onBackPressed();\r\n        return true;\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/Drawer/MesRecettes/mesRecettesActivity.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/Drawer/MesRecettes/mesRecettesActivity.java	(date 1607689892816)
@@ -20,6 +20,7 @@
 import com.example.projetrecette.GlideApp;
 import com.example.projetrecette.R;
 import com.example.projetrecette.Recette.AffichageRecette;
+import com.example.projetrecette.Recette.Allergie;
 import com.example.projetrecette.Recette.RecipeModel;
 import com.example.projetrecette.Recette.newRecetteActivity;
 import com.firebase.ui.firestore.FirestoreRecyclerAdapter;
@@ -33,6 +34,10 @@
 import com.google.firebase.storage.FirebaseStorage;
 import com.google.firebase.storage.StorageReference;
 
+import org.w3c.dom.Text;
+
+import java.util.ArrayList;
+
 public class mesRecettesActivity extends AppCompatActivity {
 
     ImageView btnAddRecette;
@@ -93,34 +98,56 @@
     private class RecipeModelViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{
 
         TextView name, author, cookingtime;
+        TextView A,CR,CE,F,G,M,L,P;
         RatingBar rating;
         ImageView image;
         String recipeid;
 
 
-
         public RecipeModelViewHolder(@NonNull View itemView){
             super(itemView);
             this.name = itemView.findViewById(R.id.recipe_name);
             this.author = itemView.findViewById(R.id.recipe_author);
-            this.cookingtime = itemView.findViewById(R.id.recipe_time);
             this.rating = itemView.findViewById(R.id.recipe_rating);
             this.image = itemView.findViewById(R.id.recipe_image);
+            iniAllergy();
             itemView.setOnClickListener(this);
 
         }
 
+        public void iniAllergy(){
+            this.A = itemView.findViewById(R.id.item_arachid);
+            this.CR = itemView.findViewById(R.id.item_crustace);
+            this.CE = itemView.findViewById(R.id.item_celeri);
+            this.F = itemView.findViewById(R.id.item_fruit);
+            this.G = itemView.findViewById(R.id.item_gluten);
+            this.M = itemView.findViewById(R.id.item_moutarde);
+            this.L = itemView.findViewById(R.id.item_lait);
+            this.P = itemView.findViewById(R.id.item_poisson);
+        }
+
+        public void Allergy(Allergie allergie){
+            if(allergie.arachid){this.A.setVisibility(View.VISIBLE);}
+            if(allergie.crustace){this.CR.setVisibility(View.VISIBLE);}
+            if(allergie.celeri){this.CE.setVisibility(View.VISIBLE);}
+            if(allergie.fruitcoq){this.F.setVisibility(View.VISIBLE);}
+            if(allergie.gluten){this.G.setVisibility(View.VISIBLE);}
+            if(allergie.moutarde){this.M.setVisibility(View.VISIBLE);}
+            if(allergie.lait){this.L.setVisibility(View.VISIBLE);}
+            if(allergie.poisson){this.P.setVisibility(View.VISIBLE);}
+        }
+
 
 
         public void setRecipe(RecipeModel recipe){
-            String temps = "Temps : " + recipe.getTemps_Cuisson() + " minutes";
             this.name.setText(recipe.getNom_Recette());
-            this.cookingtime.setText(temps);
             this.rating.setRating(Float.parseFloat(recipe.getRating()));
             this.recipeid = recipe.getRecipe_id();
 
             final TextView aut = this.author;
             final ImageView img = this.image;
+            System.out.println(recipe.getAllergies());
+            Allergy(recipe.getAllergies());
 
             /*Get Username*/
             fStore = FirebaseFirestore.getInstance();
@@ -143,6 +170,7 @@
                     }
                 });
             }
+
         }
 
         @Override
@@ -170,7 +198,6 @@
         userId = fAuth.getCurrentUser().getUid();
         mResultList = findViewById(R.id.recycler_view);
         mStorageRef = FirebaseStorage.getInstance().getReference();
-
     }
 
     public void addToolbar(){
Index: app/src/main/res/layout/activity_mon_compte.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".Drawer.MonCompte.MonCompte\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n          \r\n            <androidx.appcompat.widget.Toolbar\r\n                android:id=\"@+id/toolbar\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"?attr/actionBarSize\"\r\n                android:background=\"@drawable/gradient\"\r\n                android:elevation=\"4dp\"\r\n                android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\r\n                app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" />\r\n\r\n        </LinearLayout>\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\"\r\n        android:weightSum=\"1\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:paddingTop=\"15dp\"\r\n            android:gravity=\"center_horizontal\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:gravity=\"center_horizontal\"\r\n                android:orientation=\"vertical\"\r\n                android:layout_weight=\"2\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/photoProfile\"\r\n                android:layout_width=\"146dp\"\r\n                android:layout_height=\"99dp\"\r\n                android:src=\"@mipmap/ic_unknown_pic\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n            </LinearLayout>\r\n\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:gravity=\"center_horizontal\"\r\n                android:orientation=\"vertical\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/account_fullname\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:paddingTop=\"8dp\"\r\n                android:textSize=\"18sp\"\r\n                android:maxLines=\"1\"\r\n                android:text=\"Nom et Prénom\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_gravity=\"center_horizontal\"\r\n                    android:weightSum=\"3\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_weight=\"0.8\"\r\n                        android:gravity=\"center\"\r\n                        android:orientation=\"vertical\">\r\n                        <!--android:gravity=\"right\"-->\r\n\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/account_email\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:paddingTop=\"5dp\"\r\n                            android:text=\"mail@adresse.com\"\r\n                            android:maxLines=\"1\"\r\n                            android:textSize=\"18sp\"\r\n                            android:layout_gravity=\"center_horizontal\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/change_password\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:paddingTop=\"5dp\"\r\n                            android:text=\"Changer de Mot de Passe\"\r\n                            android:textSize=\"18sp\"\r\n                            android:layout_gravity=\"center_horizontal\"/>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <!--\r\n                        <LinearLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:gravity=\"end\"\r\n                            android:layout_weight=\"2.2\">\r\n\r\n                            <Button\r\n                                android:id=\"@+id/edit_button\"\r\n                                android:layout_width=\"57dp\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_gravity=\"end\"\r\n                                android:background=\"@mipmap/ic_launcher_edit_24_round\"\r\n                                android:textAllCaps=\"false\"\r\n                                android:textColor=\"@color/white\" />\r\n\r\n                    </LinearLayout>\r\n                    -->\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:gravity=\"center_horizontal\"\r\n            android:orientation=\"vertical\"\r\n            android:layout_weight=\"1\">\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:textSize=\"18sp\"\r\n                android:text=\"Information sur le compte\"/>\r\n        </LinearLayout>\r\n    </LinearLayout>\r\n\r\n    </LinearLayout>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_mon_compte.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/res/layout/activity_mon_compte.xml	(date 1607611565010)
@@ -27,132 +27,152 @@
 
         </LinearLayout>
 
-    <LinearLayout
-        android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:orientation="vertical"
-        android:weightSum="1">
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:orientation="vertical"
+            android:weightSum="1">
 
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="wrap_content"
-            android:paddingTop="15dp"
-            android:gravity="center_horizontal"
-            android:orientation="vertical">
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:paddingTop="15dp"
+                android:gravity="center_horizontal"
+                android:orientation="vertical">
 
-            <LinearLayout
-                android:layout_width="match_parent"
-                android:layout_height="match_parent"
-                android:gravity="center_horizontal"
-                android:orientation="vertical"
-                android:layout_weight="2">
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center_horizontal"
+                    android:orientation="vertical"
+                    android:layout_weight="2">
 
-            <ImageView
-                android:id="@+id/photoProfile"
-                android:layout_width="146dp"
-                android:layout_height="99dp"
-                android:src="@mipmap/ic_unknown_pic"
-                app:layout_constraintBottom_toBottomOf="parent"
-                app:layout_constraintEnd_toEndOf="parent"
-                app:layout_constraintTop_toTopOf="parent" />
-            </LinearLayout>
+                    <ImageView
+                        android:id="@+id/photoProfile"
+                        android:layout_width="146dp"
+                        android:layout_height="99dp"
+                        android:src="@mipmap/ic_unknown_pic"
+                        app:layout_constraintBottom_toBottomOf="parent"
+                        app:layout_constraintEnd_toEndOf="parent"
+                        app:layout_constraintTop_toTopOf="parent" />
+                </LinearLayout>
 
 
-            <LinearLayout
-                android:layout_width="match_parent"
-                android:layout_height="match_parent"
-                android:gravity="center_horizontal"
-                android:orientation="vertical">
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:gravity="center_horizontal"
+                    android:orientation="vertical">
 
-            <TextView
-                android:id="@+id/account_fullname"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:paddingTop="8dp"
-                android:textSize="18sp"
-                android:maxLines="1"
-                android:text="Nom et Prénom"/>
+                    <TextView
+                        android:id="@+id/account_fullname"
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:paddingTop="8dp"
+                        android:textSize="18sp"
+                        android:maxLines="1"
+                        android:text="Nom et Prénom"/>
 
-                <LinearLayout
-                    android:layout_width="match_parent"
-                    android:layout_height="match_parent"
-                    android:layout_gravity="center_horizontal"
-                    android:weightSum="3">
-
-                    <LinearLayout
-                        android:layout_width="match_parent"
-                        android:layout_height="wrap_content"
-                        android:layout_weight="0.8"
-                        android:gravity="center"
-                        android:orientation="vertical">
-                        <!--android:gravity="right"-->
-
-
-                        <TextView
-                            android:id="@+id/account_email"
-                            android:layout_width="wrap_content"
-                            android:layout_height="wrap_content"
-                            android:paddingTop="5dp"
-                            android:text="mail@adresse.com"
-                            android:maxLines="1"
-                            android:textSize="18sp"
-                            android:layout_gravity="center_horizontal"/>
+                    <TextView
+                        android:id="@+id/account_email"
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:paddingTop="5dp"
+                        android:text="mail@adresse.com"
+                        android:maxLines="1"
+                        android:textSize="18sp"
+                        android:layout_gravity="center_horizontal"/>
 
-                        <TextView
-                            android:id="@+id/change_password"
-                            android:layout_width="wrap_content"
-                            android:layout_height="wrap_content"
-                            android:paddingTop="5dp"
-                            android:text="Changer de Mot de Passe"
-                            android:textSize="18sp"
-                            android:layout_gravity="center_horizontal"/>
 
-                    </LinearLayout>
+
 
-                    <!--
-                        <LinearLayout
-                            android:layout_width="match_parent"
-                            android:layout_height="wrap_content"
-                            android:gravity="end"
-                            android:layout_weight="2.2">
+                        <!--
+                            <LinearLayout
+                                android:layout_width="match_parent"
+                                android:layout_height="wrap_content"
+                                android:gravity="end"
+                                android:layout_weight="2.2">
 
-                            <Button
-                                android:id="@+id/edit_button"
-                                android:layout_width="57dp"
-                                android:layout_height="wrap_content"
-                                android:layout_gravity="end"
-                                android:background="@mipmap/ic_launcher_edit_24_round"
-                                android:textAllCaps="false"
-                                android:textColor="@color/white" />
+                                <Button
+                                    android:id="@+id/edit_button"
+                                    android:layout_width="57dp"
+                                    android:layout_height="wrap_content"
+                                    android:layout_gravity="end"
+                                    android:background="@mipmap/ic_launcher_edit_24_round"
+                                    android:textAllCaps="false"
+                                    android:textColor="@color/white" />
 
-                    </LinearLayout>
-                    -->
+                        </LinearLayout>
+                        -->
+
                 </LinearLayout>
+
             </LinearLayout>
-        </LinearLayout>
 
-        <LinearLayout
-            android:layout_width="match_parent"
-            android:layout_height="match_parent"
-            android:layout_marginTop="15dp"
-            android:gravity="center_horizontal"
-            android:orientation="vertical"
-            android:layout_weight="1">
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_marginTop="15dp"
+                android:gravity="center_horizontal"
+                android:orientation="vertical"
+                android:layout_weight="1">
 
-            <TextView
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:textSize="18sp"
-                android:text="Information sur le compte"/>
-        </LinearLayout>
-    </LinearLayout>
+                <View
+                    android:layout_marginVertical="20dp"
+                    android:layout_width="match_parent"
+                    android:layout_height="1dp"
+                    android:background="#d7ccc8"/>
+
+                <TextView
+                    android:id="@+id/change_username"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:textSize="16sp"
+                    android:autoSizeMaxTextSize="100sp"
+                    android:autoSizeMinTextSize="12sp"
+                    android:autoSizeStepGranularity="3sp"
+                    android:autoSizeTextType="uniform"
+                    android:text="Changer le nom d'utilisateur"/>
+
+
+
+
+                <View
+                    android:layout_marginVertical="20dp"
+                    android:layout_width="match_parent"
+                    android:layout_marginHorizontal="30dp"
+                    android:layout_height="1dp"
+                    android:background="#d7ccc8"/>
+
+                <TextView
+                    android:id="@+id/change_email"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:textSize="16sp"
+                    android:text="Changer l'adresse E-mail"/>
+
+                <View
+                    android:layout_marginVertical="20dp"
+                    android:layout_width="match_parent"
+                    android:layout_marginHorizontal="30dp"
+                    android:layout_height="1dp"
+                    android:background="#d7ccc8"/>
+
+                <TextView
+                    android:id="@+id/change_password"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:paddingTop="5dp"
+                    android:text="Changer de Mot de Passe"
+                    android:textSize="16sp"
+                    android:layout_gravity="center_horizontal"/>
+
+
+            </LinearLayout>
+
+        </LinearLayout>
 
     </LinearLayout>
 
 
-
-
-
-
-
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/projetrecette/Recette/newRecetteActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.Recette;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\n\r\nimport android.content.ContentResolver;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.text.Html;\r\nimport android.text.TextUtils;\r\nimport android.view.View;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.RatingBar;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.projetrecette.GlideApp;\r\nimport com.example.projetrecette.R;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FieldValue;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.StorageTask;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.UUID;\r\n\r\npublic class newRecetteActivity extends AppCompatActivity {\r\n\r\n    EditText name_recette, temps_prep, temps_cook, multi_ingre, multi_recette;\r\n    RatingBar difficulty;\r\n    ImageView image;\r\n    Button btncreateRecipe;\r\n    FirebaseAuth fAuth;\r\n    FirebaseFirestore fStore;\r\n    String userId, recipeId, uploadId;\r\n    StorageReference storageReference;\r\n    StorageTask mUploadTask;\r\n    Uri ImageUri;\r\n    CollectionReference crefRecipe;\r\n    DocumentReference drefRecipe;\r\n\r\n    Allergie allergie;\r\n    Button btn_gluten, btn_arachid, btn_lait, btn_crustace, btn_celeri, btn_fruit, btn_moutarde, btn_poisson;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_recette);\r\n        addToolbar();\r\n        setAttribut();\r\n        setbtnAllergie();\r\n        onclickAllergie();\r\n        onclickCreateRecipe();\r\n        selectImage();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    public String getFileExtension(Uri uri) {\r\n        ContentResolver cR = getContentResolver();\r\n        MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n        return mime.getExtensionFromMimeType(cR.getType(uri));\r\n    }\r\n\r\n    private void uploadFile(final String recipeId) {\r\n        if (ImageUri != null) {\r\n            /* On utilise UUID pour obtenir une id random */\r\n            final StorageReference fileReference = storageReference.child(\"Recipes_pics\").child(UUID.randomUUID().toString()\r\n            + \".\" + getFileExtension(ImageUri));\r\n\r\n            final DocumentReference drefRecipes = fStore.collection(\"recipes\").document(recipeId);\r\n            mUploadTask = fileReference.putFile(ImageUri).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    drefRecipes.update(\"Recipe_Pic\", fileReference.getName());\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast.makeText(getApplicationContext(),\"Erreur\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void selectImage() {\r\n        final CharSequence[] options = { \"Take Photo\", \"Choose from Gallery\",\"Cancel\" };\r\n        image.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(view.getContext());\r\n                builder.setTitle(\"Add Photo!\");\r\n                builder.setItems(options, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int item) {\r\n                        if (options[item].equals(\"Take Photo\")) {\r\n                            /*\r\n                            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                            File f = new File(android.os.Environment.getExternalStorageDirectory(), \"temp.jpg\");\r\n                            intent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(f));\r\n                            startActivityForResult(intent, 1);\r\n                            */\r\n                            dialog.dismiss();\r\n                        } else if (options[item].equals(\"Choose from Gallery\")) {\r\n                            Intent intent = new Intent().setType(\"image/*\").setAction(Intent.ACTION_GET_CONTENT);\r\n                            startActivityForResult(intent, 2);\r\n                        } else if (options[item].equals(\"Cancel\")) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    }\r\n                });\r\n                builder.create().show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 2 && resultCode == RESULT_OK\r\n                && data != null && data.getData() != null) {\r\n            ImageUri = data.getData();\r\n            GlideApp.with(getApplicationContext()).load(ImageUri).into(image);\r\n        }\r\n    }\r\n\r\n\r\n    private void onclickCreateRecipe(){\r\n        btncreateRecipe.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String name = name_recette.getText().toString().trim();\r\n                String temps_prepation = temps_prep.getText().toString().trim();\r\n                String temps_cooking = temps_cook.getText().toString().trim();\r\n                String multi_ingredient = Html.toHtml(multi_ingre.getText());\r\n                String multi_rec =Html.toHtml(multi_recette.getText());\r\n\r\n                if(TextUtils.isEmpty(name)){\r\n                    name_recette.setError(\"Veuillez mettre un nom de recette valide!\");\r\n                    return;\r\n                }\r\n                if(TextUtils.isEmpty(temps_cooking)){\r\n                    temps_cooking = \"0\";\r\n                }\r\n\r\n                if (TextUtils.isEmpty(temps_prepation)){\r\n                    temps_prepation = \"0\";\r\n\r\n                }\r\n                if(TextUtils.isEmpty(multi_ingredient)){\r\n                    multi_ingredient = \"L'auteur n'a pas donner d'ingrédient\";\r\n                }\r\n                if(TextUtils.isEmpty(multi_rec)){\r\n                    multi_rec = \"L'auteur n'a pas donné d'étapes à suivre pour la réalisation de la recette\";\r\n                }\r\n\r\n                final DocumentReference drefUser = fStore.collection(\"users\").document(userId);\r\n                crefRecipe = fStore.collection(\"recipes\");\r\n                Map<String,Object> recipe = new HashMap<>();\r\n                recipe.put(\"Auteur\", userId);\r\n                recipe.put(\"Nom_Recette\", name);\r\n                recipe.put(\"Temps_Preparation\", temps_prepation);\r\n                recipe.put(\"Temps_Cuisson\", temps_cooking);\r\n                recipe.put(\"Ingredient\", multi_ingredient);\r\n                recipe.put(\"Recette\", multi_rec);\r\n                recipe.put(\"Difficulty\", String.valueOf(difficulty.getRating()));\r\n                recipe.put(\"Rating\", \"0\");\r\n                recipe.put(\"Recipe_Pic\", \"default_pic.png\");\r\n                recipe.put(\"Recipe_id\",\"placeholder\");\r\n                recipe.put(\"Allergies\", allergie.sendMap());\r\n\r\n                crefRecipe.add(recipe).addOnSuccessListener(new OnSuccessListener<DocumentReference>() {\r\n                    @Override\r\n                    public void onSuccess(DocumentReference documentReference) {\r\n                        recipeId = documentReference.getId();\r\n                        drefUser.update(\"Mes_Recettes\", FieldValue.arrayUnion(recipeId));\r\n                        final DocumentReference drefRecipe = fStore.collection(\"recipes\").document(recipeId);\r\n                        drefRecipe.update(\"Recipe_id\", recipeId);\r\n                        uploadFile(recipeId);\r\n                    }\r\n                });\r\n                onBackPressed();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void setAttribut(){\r\n        name_recette = findViewById(R.id.creation_name);\r\n        temps_prep = findViewById(R.id.creation_preparation);\r\n        temps_cook = findViewById(R.id.creation_cooking);\r\n        multi_ingre = findViewById(R.id.creation_ingredient);\r\n        multi_recette = findViewById(R.id.creation_recette);\r\n        difficulty = findViewById(R.id.creation_difficulty);\r\n        btncreateRecipe = findViewById(R.id.btnCreationRecette);\r\n        image = findViewById(R.id.creation_image);\r\n        fAuth = FirebaseAuth.getInstance();\r\n        fStore =FirebaseFirestore.getInstance();\r\n        userId = fAuth.getCurrentUser().getUid();\r\n        storageReference = FirebaseStorage.getInstance().getReference();\r\n        allergie = new Allergie();\r\n    }\r\n\r\n    public void setbtnAllergie(){\r\n\r\n        btn_gluten = findViewById(R.id.creation_gluten);\r\n        btn_arachid  = findViewById(R.id.creation_arachide);\r\n        btn_lait = findViewById(R.id.creation_lait);\r\n        btn_crustace = findViewById(R.id.creation_crustace);\r\n        btn_celeri = findViewById(R.id.creation_celeri);\r\n        btn_fruit = findViewById(R.id.creation_fruitcoq);\r\n        btn_moutarde = findViewById(R.id.creation_moutarde);\r\n        btn_poisson = findViewById(R.id.creation_poisson);\r\n\r\n    }\r\n\r\n    public void onclickAllergie(){\r\n        btn_gluten.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setGluten(!allergie.gluten);\r\n                if(allergie.gluten){\r\n                    btn_gluten.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_gluten.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_arachid.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setArachid(!allergie.arachid);\r\n                if(allergie.arachid){\r\n                    btn_arachid.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_arachid.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_lait.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setLait(!allergie.lait);\r\n                if(allergie.lait){\r\n                    btn_lait.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_lait.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_crustace.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setCrustace(!allergie.crustace);\r\n                if(allergie.crustace){\r\n                    btn_crustace.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_crustace.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_celeri.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setCeleri(!allergie.celeri);\r\n                if(allergie.celeri){\r\n                    btn_celeri.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_celeri.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_fruit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setFruitcoq(!allergie.fruitcoq);\r\n                if(allergie.fruitcoq){\r\n                    btn_fruit.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_fruit.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_moutarde.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setMoutarde(!allergie.moutarde);\r\n                if(allergie.moutarde){\r\n                    btn_moutarde.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_moutarde.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n        btn_poisson.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                allergie.setPoisson(!allergie.poisson);\r\n                if(allergie.poisson){\r\n                    btn_poisson.setBackgroundColor(Color.parseColor(\"#fce4ec\"));\r\n                }else{\r\n                    btn_poisson.setBackgroundColor(Color.parseColor(\"#eeeeee\"));\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public void addToolbar(){\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        onBackPressed();\r\n        return true;\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/Recette/newRecetteActivity.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/Recette/newRecetteActivity.java	(date 1607641091603)
@@ -177,6 +177,8 @@
 
                 final DocumentReference drefUser = fStore.collection("users").document(userId);
                 crefRecipe = fStore.collection("recipes");
+                Map<String, String> userrating = new HashMap<>();
+                userrating.put("empty", "empty");
                 Map<String,Object> recipe = new HashMap<>();
                 recipe.put("Auteur", userId);
                 recipe.put("Nom_Recette", name);
@@ -186,9 +188,11 @@
                 recipe.put("Recette", multi_rec);
                 recipe.put("Difficulty", String.valueOf(difficulty.getRating()));
                 recipe.put("Rating", "0");
+                recipe.put("UserRating", userrating);
                 recipe.put("Recipe_Pic", "default_pic.png");
                 recipe.put("Recipe_id","placeholder");
                 recipe.put("Allergies", allergie.sendMap());
+                recipe.put("Click", 0);
 
                 crefRecipe.add(recipe).addOnSuccessListener(new OnSuccessListener<DocumentReference>() {
                     @Override
Index: app/src/main/res/layout/fragment_recipe.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".NavigationBar.Recipe.RecipeFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_weight=\"3\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/header_text\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginLeft=\"30dp\"\r\n                    android:layout_marginTop=\"50dp\"\r\n                    android:fontFamily=\"@font/nunito_bold\"\r\n                    android:text=\"Search for a recipe\"\r\n                    android:textColor=\"#555555\"\r\n                    android:textSize=\"30sp\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/search_recipe\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_below=\"@id/header_text\"\r\n                    android:layout_alignStart=\"@id/header_text\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:background=\"@drawable/search_outline\"\r\n                    android:ems=\"10\"\r\n                    android:fontFamily=\"@font/nunito_bold\"\r\n                    android:inputType=\"textPersonName\"\r\n                    android:paddingLeft=\"20dp\"\r\n                    android:paddingTop=\"10dp\"\r\n                    android:paddingRight=\"20dp\"\r\n                    android:paddingBottom=\"10dp\"\r\n                    android:text=\"\"\r\n                    android:textColor=\"#999999\"\r\n                    android:textSize=\"16sp\" />\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/search_button\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_alignTop=\"@id/search_recipe\"\r\n                    android:layout_marginLeft=\"20dp\"\r\n                    android:layout_toRightOf=\"@id/search_recipe\"\r\n                    android:backgroundTint=\"@color/common_google_signin_btn_tint\"\r\n                    android:src=\"@drawable/ic_baseline_search_24\" />\r\n\r\n            </RelativeLayout>\r\n\r\n\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_weight=\"1\">\r\n\r\n            <ScrollView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n                <androidx.recyclerview.widget.RecyclerView\r\n                    android:id=\"@+id/result_list\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_below=\"@id/search_recipe\" />\r\n\r\n\r\n            </ScrollView>\r\n\r\n\r\n        </LinearLayout>\r\n\r\n\r\n    </LinearLayout>\r\n\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_recipe.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/res/layout/fragment_recipe.xml	(date 1607600466748)
@@ -16,51 +16,90 @@
             android:layout_height="match_parent"
             android:layout_weight="3">
 
-            <RelativeLayout
+            <LinearLayout
                 android:layout_width="match_parent"
-                android:layout_height="match_parent">
+                android:layout_height="match_parent"
+                android:orientation="vertical"
+                android:layout_marginHorizontal="15dp">
+
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:layout_weight="1">
 
-                <TextView
-                    android:id="@+id/header_text"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:layout_marginLeft="30dp"
-                    android:layout_marginTop="50dp"
-                    android:fontFamily="@font/nunito_bold"
-                    android:text="Search for a recipe"
-                    android:textColor="#555555"
-                    android:textSize="30sp" />
+                    <TextView
+                        android:id="@+id/header_text"
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent"
+                        android:layout_gravity="center"
+                        android:fontFamily="@font/nunito_bold"
+                        android:gravity="center"
+                        android:text="Rechercher une Recette"
+                        android:textColor="@color/colorAccent"
+                        android:textSize="22sp" />
+
+                </LinearLayout>
+
+                <LinearLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:layout_weight="1">
+
+                    <LinearLayout
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent"
+                        android:layout_weight="1">
 
-                <EditText
-                    android:id="@+id/search_recipe"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:layout_below="@id/header_text"
-                    android:layout_alignStart="@id/header_text"
-                    android:layout_marginTop="10dp"
-                    android:background="@drawable/search_outline"
-                    android:ems="10"
-                    android:fontFamily="@font/nunito_bold"
-                    android:inputType="textPersonName"
-                    android:paddingLeft="20dp"
-                    android:paddingTop="10dp"
-                    android:paddingRight="20dp"
-                    android:paddingBottom="10dp"
-                    android:text=""
-                    android:textColor="#999999"
-                    android:textSize="16sp" />
+                        <EditText
+                            android:id="@+id/search_recipe"
+                            android:layout_width="match_parent"
+                            android:layout_height="wrap_content"
+                            android:layout_below="@id/header_text"
+                            android:layout_alignStart="@id/header_text"
+                            android:background="@drawable/search_outline"
+                            android:layout_gravity="center"
+                            android:ems="10"
+                            android:fontFamily="@font/nunito_bold"
+                            android:inputType="textPersonName"
+                            android:paddingLeft="20dp"
+                            android:paddingTop="10dp"
+                            android:paddingRight="20dp"
+                            android:paddingBottom="10dp"
+                            android:text=""
+                            android:textColor="#999999"
+                            android:textSize="16sp" />
 
-                <ImageButton
-                    android:id="@+id/search_button"
-                    android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
-                    android:layout_alignTop="@id/search_recipe"
-                    android:layout_marginLeft="20dp"
-                    android:layout_toRightOf="@id/search_recipe"
-                    android:backgroundTint="@color/common_google_signin_btn_tint"
-                    android:src="@drawable/ic_baseline_search_24" />
+                    </LinearLayout>
+
+                    <LinearLayout
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent"
+                        android:layout_weight="5">
+
+                        <ImageButton
+                            android:id="@+id/search_button"
+                            android:layout_width="match_parent"
+                            android:layout_height="62dp"
+                            android:layout_gravity="center"
+
+
+                            android:backgroundTint="@color/common_google_signin_btn_tint"
+                            android:src="@drawable/ic_baseline_search_24" />
 
-            </RelativeLayout>
+                    </LinearLayout>
+
+
+
+
+
+
+                </LinearLayout>
+
+
+
+
+
+            </LinearLayout>
 
 
 
Index: app/src/main/java/com/example/projetrecette/Recette/Allergie.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.Recette;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Allergie {\r\n\r\n    boolean gluten, arachid, lait, crustace, celeri, fruitcoq, poisson, moutarde;\r\n    Map<String, Boolean> allergie = new HashMap<>();\r\n\r\n    public Allergie(){\r\n        gluten = false;\r\n        arachid = false;\r\n        lait = false;\r\n        crustace = false;\r\n        celeri = false;\r\n        fruitcoq = false;\r\n        poisson = false;\r\n        moutarde = false;\r\n\r\n    }\r\n\r\n    public Map<String, Boolean> sendMap(){\r\n        allergie.put(\"Gluten\", gluten);\r\n        allergie.put(\"Arachid\", arachid);\r\n        allergie.put(\"Lait\", lait);\r\n        allergie.put(\"Crustacé\", crustace);\r\n        allergie.put(\"Céléri\", celeri);\r\n        allergie.put(\"Fruit_à_Coq\", fruitcoq);\r\n        allergie.put(\"Poisson\", poisson);\r\n        allergie.put(\"Moutarde\", moutarde);\r\n\r\n        return allergie;\r\n    }\r\n\r\n    public void setArachid(boolean arachid) {\r\n        this.arachid = arachid;\r\n    }\r\n\r\n    public void setCeleri(boolean celeri) {\r\n        this.celeri = celeri;\r\n    }\r\n\r\n    public void setCrustace(boolean crustace) {\r\n        this.crustace = crustace;\r\n    }\r\n\r\n    public void setFruitcoq(boolean fruitcoq) {\r\n        this.fruitcoq = fruitcoq;\r\n    }\r\n\r\n    public void setGluten(boolean gluten) {\r\n        this.gluten = gluten;\r\n    }\r\n\r\n    public void setLait(boolean lait) {\r\n        this.lait = lait;\r\n    }\r\n\r\n    public void setMoutarde(boolean moutarde) {\r\n        this.moutarde = moutarde;\r\n    }\r\n\r\n    public void setPoisson(boolean poisson) {\r\n        this.poisson = poisson;\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/Recette/Allergie.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/Recette/Allergie.java	(date 1607690346061)
@@ -5,7 +5,7 @@
 
 public class Allergie {
 
-    boolean gluten, arachid, lait, crustace, celeri, fruitcoq, poisson, moutarde;
+    public boolean gluten, arachid, lait, crustace, celeri, fruitcoq, poisson, moutarde;
     Map<String, Boolean> allergie = new HashMap<>();
 
     public Allergie(){
@@ -21,18 +21,20 @@
     }
 
     public Map<String, Boolean> sendMap(){
-        allergie.put("Gluten", gluten);
-        allergie.put("Arachid", arachid);
-        allergie.put("Lait", lait);
-        allergie.put("Crustacé", crustace);
-        allergie.put("Céléri", celeri);
-        allergie.put("Fruit_à_Coq", fruitcoq);
-        allergie.put("Poisson", poisson);
-        allergie.put("Moutarde", moutarde);
+        allergie.put("gluten", gluten);
+        allergie.put("arachid", arachid);
+        allergie.put("lait", lait);
+        allergie.put("crustace", crustace);
+        allergie.put("celeri", celeri);
+        allergie.put("fruitcoq", fruitcoq);
+        allergie.put("poisson", poisson);
+        allergie.put("moutarde", moutarde);
 
         return allergie;
     }
 
+
+
     public void setArachid(boolean arachid) {
         this.arachid = arachid;
     }
@@ -65,4 +67,6 @@
         this.poisson = poisson;
     }
 
+
+
 }
Index: app/src/main/java/com/example/projetrecette/Recette/RecipeModel.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.Recette;\r\n\r\npublic class RecipeModel {\r\n\r\n    String Auteur, Nom_Recette, Recipe_Pic, Temps_Cuisson, Rating, Recipe_id;\r\n\r\n    public RecipeModel(){}\r\n    public RecipeModel(String Auteur, String Nom_Recette, String Recipe_Pic, String Temps_Cuisson, String Rating, String Recipe_id){\r\n        this.Auteur = Auteur;\r\n        this.Nom_Recette = Nom_Recette;\r\n        this.Recipe_Pic = Recipe_Pic;\r\n        this.Temps_Cuisson = Temps_Cuisson;\r\n        this.Rating = Rating;\r\n        this.Recipe_id = Recipe_id;\r\n    }\r\n\r\n    public void setRecipe_id(String recipe_id) {\r\n        Recipe_id = recipe_id;\r\n    }\r\n\r\n    public void setAuteur(String auteur) {\r\n        Auteur = auteur;\r\n    }\r\n\r\n    public void setNom_Recette(String nom_Recette) {\r\n        Nom_Recette = nom_Recette;\r\n    }\r\n\r\n    public void setRecipe_Pic(String recipe_Pic) {\r\n        Recipe_Pic = recipe_Pic;\r\n    }\r\n\r\n    public void setRating(String rating) {\r\n        Rating = rating;\r\n    }\r\n\r\n    public void setTemps_Cuisson(String temps_Cuisson) {\r\n        Temps_Cuisson = temps_Cuisson;\r\n    }\r\n\r\n    public String getAuteur() {\r\n        return Auteur;\r\n    }\r\n\r\n    public String getNom_Recette() {\r\n        return Nom_Recette;\r\n    }\r\n\r\n    public String getRating() {\r\n        return Rating;\r\n    }\r\n\r\n    public String getRecipe_Pic() {\r\n        return Recipe_Pic;\r\n    }\r\n\r\n    public String getTemps_Cuisson() {\r\n        return Temps_Cuisson;\r\n    }\r\n\r\n    public String getRecipe_id() {\r\n        return Recipe_id;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/Recette/RecipeModel.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/Recette/RecipeModel.java	(date 1607689251990)
@@ -3,15 +3,25 @@
 public class RecipeModel {
 
     String Auteur, Nom_Recette, Recipe_Pic, Temps_Cuisson, Rating, Recipe_id;
+    Allergie Allergies;
 
     public RecipeModel(){}
-    public RecipeModel(String Auteur, String Nom_Recette, String Recipe_Pic, String Temps_Cuisson, String Rating, String Recipe_id){
+    public RecipeModel(String Auteur, String Nom_Recette, String Recipe_Pic, String Temps_Cuisson, String Rating, String Recipe_id, Allergie Allergies){
         this.Auteur = Auteur;
         this.Nom_Recette = Nom_Recette;
         this.Recipe_Pic = Recipe_Pic;
         this.Temps_Cuisson = Temps_Cuisson;
         this.Rating = Rating;
         this.Recipe_id = Recipe_id;
+        this.Allergies = Allergies;
+    }
+
+    public void setAllergies(Allergie allergies) {
+        Allergies = allergies;
+    }
+
+    public Allergie getAllergies() {
+        return Allergies;
     }
 
     public void setRecipe_id(String recipe_id) {
Index: app/src/main/res/layout/activity_change_email.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".Drawer.MonCompte.ChangeEmail\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <androidx.appcompat.widget.Toolbar\r\n                android:id=\"@+id/toolbar\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"?attr/actionBarSize\"\r\n                android:background=\"@drawable/gradient\"\r\n                android:elevation=\"4dp\"\r\n                android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\" />\r\n\r\n        </LinearLayout>\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <com.google.android.material.textfield.TextInputLayout\r\n                android:id=\"@+id/text_input_email\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n            <com.google.android.material.textfield.TextInputEditText\r\n                android:id=\"@+id/new_email\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:drawableStart=\"@drawable/ic_baseline_mail_outline_24\"\r\n                android:drawablePadding=\"5dp\"\r\n                android:hint=\" Nouvelle Adresse e-mail\"\r\n                android:inputType=\"textEmailAddress\"/>\r\n\r\n            </com.google.android.material.textfield.TextInputLayout>\r\n\r\n            <Button\r\n                android:id=\"@+id/button_change_email\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:background=\"@drawable/curved_button\"\r\n                android:textColor=\"@color/white\"\r\n                android:textAllCaps=\"false\"\r\n                android:textSize=\"20sp\"\r\n                android:text=\"Valider\"/>\r\n        </LinearLayout>\r\n    </LinearLayout>\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_change_email.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/res/layout/activity_change_email.xml	(date 1607610870207)
@@ -25,33 +25,54 @@
                 android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar" />
 
         </LinearLayout>
+
         <LinearLayout
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:orientation="vertical">
 
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:layout_marginVertical="20dp">
+
+                <TextView
+                    android:layout_width="match_parent"
+                    android:layout_height="match_parent"
+                    android:text="Changer l'adresse E-mail"
+                    android:textSize="22dp"
+                    android:gravity="center"
+                    android:textColor="@color/colorAccent">
+
+                </TextView>
+
+
+            </LinearLayout>
+
             <com.google.android.material.textfield.TextInputLayout
                 android:id="@+id/text_input_email"
                 android:layout_width="match_parent"
-                android:layout_height="wrap_content">
+                android:layout_height="wrap_content"
+                android:layout_marginHorizontal="30dp">
 
-            <com.google.android.material.textfield.TextInputEditText
-                android:id="@+id/new_email"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:drawableStart="@drawable/ic_baseline_mail_outline_24"
-                android:drawablePadding="5dp"
-                android:hint=" Nouvelle Adresse e-mail"
-                android:inputType="textEmailAddress"/>
+                <com.google.android.material.textfield.TextInputEditText
+                    android:id="@+id/new_email"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:drawableStart="@drawable/ic_baseline_mail_outline_24"
+                    android:drawablePadding="5dp"
+                    android:hint=" Nouvelle Adresse e-mail"
+                    android:inputType="textEmailAddress"/>
 
             </com.google.android.material.textfield.TextInputLayout>
 
             <Button
+                android:layout_margin="30dp"
                 android:id="@+id/button_change_email"
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:layout_gravity="center"
-                android:background="@drawable/curved_button"
+                android:background="@color/colorAccent"
                 android:textColor="@color/white"
                 android:textAllCaps="false"
                 android:textSize="20sp"
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">UQCOOK</string>\r\n    <string name=\"title_home\">Home</string>\r\n    <string name=\"title_recipe\">Recette</string>\r\n    <string name=\"title_favorite\">Favoris</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"title_login\">Se Connecter</string>\r\n    <string name=\"title_signup\">Inscription</string>\r\n    <string name=\"navigation_drawer_open\">Open navigation drawer</string>\r\n    <string name=\"navigation_drawer_close\">Close navigation drawer</string>\r\n    <string name=\"title_signout\">Se déconnecter</string>\r\n    <string name=\"title_information\">Information</string>\r\n    <string name=\"title_profil\">Mon Profil</string>\r\n    <string name=\"title_vos_recettes\">Vos Recettes</string>\r\n    <string name=\"title_parametres\">Paramètres</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/strings.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/res/values/strings.xml	(date 1607691633752)
@@ -13,5 +13,5 @@
     <string name="title_information">Information</string>
     <string name="title_profil">Mon Profil</string>
     <string name="title_vos_recettes">Vos Recettes</string>
-    <string name="title_parametres">Paramètres</string>
+    <string name="aides">Aides</string>
 </resources>
\ No newline at end of file
Index: app/src/main/java/com/example/projetrecette/NavigationBar/Home/HomeFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.NavigationBar.Home;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.example.projetrecette.R;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link HomeFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class HomeFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment HomeFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static HomeFragment newInstance(String param1, String param2) {\r\n        HomeFragment fragment = new HomeFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_home, container, false);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/NavigationBar/Home/HomeFragment.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/NavigationBar/Home/HomeFragment.java	(date 1607609397731)
@@ -1,14 +1,30 @@
 package com.example.projetrecette.NavigationBar.Home;
 
+import android.content.Intent;
 import android.os.Bundle;
 
+import androidx.annotation.NonNull;
 import androidx.fragment.app.Fragment;
 
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.ImageView;
 
+import com.example.projetrecette.GlideApp;
 import com.example.projetrecette.R;
+import com.example.projetrecette.Recette.AffichageRecette;
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.Task;
+import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.firestore.FirebaseFirestore;
+import com.google.firebase.firestore.QueryDocumentSnapshot;
+import com.google.firebase.firestore.QuerySnapshot;
+import com.google.firebase.firestore.core.Query;
+import com.google.firebase.storage.FirebaseStorage;
+import com.google.firebase.storage.StorageReference;
+
+import java.util.ArrayList;
 
 /**
  * A simple {@link Fragment} subclass.
@@ -22,10 +38,20 @@
     private static final String ARG_PARAM1 = "param1";
     private static final String ARG_PARAM2 = "param2";
 
+
     // TODO: Rename and change types of parameters
     private String mParam1;
     private String mParam2;
 
+    ImageView image1, image2, image3, image4;
+    StorageReference mStorageRef;
+    FirebaseAuth fAuth;
+    FirebaseFirestore fStore;
+    String userId;
+    ArrayList<ImageView> arrayList = new ArrayList<ImageView>();
+
+
+
     public HomeFragment() {
         // Required empty public constructor
     }
@@ -60,7 +86,73 @@
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
                              Bundle savedInstanceState) {
+
+        View view = inflater.inflate(R.layout.fragment_home, container, false);
+        setAttribut(view);
+        getQuery();
         // Inflate the layout for this fragment
-        return inflater.inflate(R.layout.fragment_home, container, false);
+        return view;
+    }
+
+    @Override
+    public void onResume() {
+        super.onResume();
+        setAttribut(getView());
+        getQuery();
+
+    }
+
+    public void getQuery(){
+
+        fStore.collection("recipes").orderBy("Click").limit(4).get().addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {
+            @Override
+            public void onComplete(@NonNull Task<QuerySnapshot> task) {
+                if(task.isSuccessful()){
+                    int i = 0;
+                    for(final QueryDocumentSnapshot document : task.getResult()){
+                        if(document.exists()){
+                            StorageReference pathphoto1 = mStorageRef.child("Recipes_pics").child(document.getString("Recipe_Pic"));
+                            /* Si problème rebuild le projet */
+                            GlideApp.with(getActivity().getApplicationContext()).load(pathphoto1).into(arrayList.get(i));
+                            arrayList.get(i).setOnClickListener(new View.OnClickListener() {
+                                @Override
+                                public void onClick(View view) {
+                                    Intent j = new Intent(getActivity().getApplicationContext(), AffichageRecette.class);
+                                    j.putExtra("key", document.getId());
+                                    startActivity(j);
+                                }
+                            });
+
+
+                            i++;
+                        }
+                    }
+                }
+            }
+        });
     }
+
+    public void setAttribut(View v){
+        fStore = FirebaseFirestore.getInstance();
+        fAuth = FirebaseAuth.getInstance();
+        mStorageRef = FirebaseStorage.getInstance().getReference();
+
+        this.image1 = v.findViewById(R.id.home_image_1);
+        this.image2 = v.findViewById(R.id.home_image_2);
+        this.image3 = v.findViewById(R.id.home_image_3);
+        this.image4 = v.findViewById(R.id.home_image_4);
+        arrayList.add(image1);
+        arrayList.add(image2);
+        arrayList.add(image3);
+        arrayList.add(image4);
+
+
+    }
+
+
+
+
+
+
+
 }
\ No newline at end of file
Index: app/src/main/java/com/example/projetrecette/NavigationBar/Recipe/RecipeFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.NavigationBar.Recipe;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.RatingBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toolbar;\r\n\r\nimport com.example.projetrecette.GlideApp;\r\nimport com.example.projetrecette.R;\r\nimport com.example.projetrecette.Recette.RecipeModel;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link RecipeFragment#newInstance} factory method to\r\n * create an instance of this fragment.F\r\n */\r\npublic class RecipeFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    private EditText mSearchField;\r\n    private ImageButton mSearchBtn;\r\n\r\n    private RecyclerView mResultList;\r\n\r\n    private FirestoreRecyclerAdapter adapter;\r\n    FirebaseFirestore fStore;\r\n\r\n    StorageReference mStorageRef;\r\n\r\n    public RecipeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment RecipeFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static RecipeFragment newInstance(String param1, String param2) {\r\n        RecipeFragment fragment = new RecipeFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_recipe, container, false);\r\n        mSearchField = view.findViewById(R.id.search_recipe);\r\n        mSearchBtn = view.findViewById(R.id.search_button);\r\n\r\n        setAttribut(view);\r\n\r\n        fStore = FirebaseFirestore.getInstance();\r\n        mResultList = view.findViewById(R.id.result_list);\r\n\r\n        mSearchBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //firebaseRecipeSearch(mSearchField.getText().toString());\r\n                getQuery(mSearchField.getText().toString());\r\n                adapter.startListening();\r\n            }\r\n        });\r\n\r\n        mResultList.setHasFixedSize(true);\r\n        mResultList.setLayoutManager(new LinearLayoutManager(this.getContext()));\r\n        mResultList.setAdapter(adapter);\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    private class RecipeModelViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView name, author, cookingtime;\r\n        RatingBar rating;\r\n        ImageView image;\r\n\r\n\r\n\r\n        public RecipeModelViewHolder(@NonNull View itemView){\r\n            super(itemView);\r\n            this.name = itemView.findViewById(R.id.recipe_name);\r\n            this.author = itemView.findViewById(R.id.recipe_author);\r\n            this.cookingtime = itemView.findViewById(R.id.recipe_time);\r\n            this.rating = itemView.findViewById(R.id.recipe_rating);\r\n            this.image = itemView.findViewById(R.id.recipe_image);\r\n        }\r\n\r\n        public void setRecipe(RecipeModel recipe){\r\n            String temps = \"Temps : \" + recipe.getTemps_Cuisson() + \" minutes\";\r\n            this.name.setText(recipe.getNom_Recette());\r\n            this.cookingtime.setText(temps);\r\n            this.rating.setRating(Float.parseFloat(recipe.getRating()));\r\n\r\n            final TextView aut = this.author;\r\n            final ImageView img = this.image;\r\n            fStore = FirebaseFirestore.getInstance();\r\n            fStore.collection(\"users\").document(recipe.getAuteur()).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n                @Override\r\n                public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                    String auteur = \"Par \" + documentSnapshot.getString(\"Fullname\");\r\n                    aut.setText(auteur);\r\n                }\r\n            });\r\n            if(!recipe.getRecipe_id().equals(\"placeholder\"))\r\n            fStore.collection(\"recipes\").document(recipe.getRecipe_id()).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n                @Override\r\n                public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                    final StorageReference pathphoto1 = mStorageRef.child(\"Recipes_pics\").child(documentSnapshot.getString(\"Recipe_Pic\"));\r\n                    /* Si problème rebuild le projet */\r\n                    GlideApp.with(getActivity().getApplicationContext()).load(pathphoto1).into(img);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public void setAttribut(View v ){\r\n        fStore = FirebaseFirestore.getInstance();\r\n        mResultList = v.findViewById(R.id.recycler_view);\r\n        mStorageRef = FirebaseStorage.getInstance().getReference();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public void getQuery(String s){\r\n        Query query = fStore.collection(\"recipes\").whereEqualTo(\"Nom_Recette\", s);\r\n        FirestoreRecyclerOptions<RecipeModel> options = new FirestoreRecyclerOptions.Builder<RecipeModel>().setQuery(query, RecipeModel.class).build();\r\n        adapter = new FirestoreRecyclerAdapter<RecipeModel, RecipeModelViewHolder>(options) {\r\n\r\n            @NonNull\r\n            @Override\r\n            public RecipeModelViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_item_recipe, parent, false);\r\n                return new RecipeModelViewHolder(view);\r\n            }\r\n\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull RecipeModelViewHolder holder, int position, @NonNull RecipeModel model) {\r\n                holder.setRecipe(model);\r\n            }\r\n        };\r\n\r\n        mResultList.setLayoutManager(new LinearLayoutManager(this.getContext()));\r\n        mResultList.setAdapter(adapter);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        if (adapter != null){\r\n            adapter.stopListening();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/NavigationBar/Recipe/RecipeFragment.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/NavigationBar/Recipe/RecipeFragment.java	(date 1607688374507)
@@ -1,5 +1,7 @@
 package com.example.projetrecette.NavigationBar.Recipe;
 
+import android.content.Context;
+import android.content.Intent;
 import android.os.Bundle;
 
 import androidx.annotation.NonNull;
@@ -7,9 +9,11 @@
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
 
+import android.view.KeyEvent;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.view.inputmethod.InputMethodManager;
 import android.widget.EditText;
 import android.widget.ImageButton;
 import android.widget.ImageView;
@@ -19,6 +23,7 @@
 
 import com.example.projetrecette.GlideApp;
 import com.example.projetrecette.R;
+import com.example.projetrecette.Recette.AffichageRecette;
 import com.example.projetrecette.Recette.RecipeModel;
 import com.firebase.ui.firestore.FirestoreRecyclerAdapter;
 import com.firebase.ui.firestore.FirestoreRecyclerOptions;
@@ -29,6 +34,7 @@
 import com.google.firebase.firestore.Query;
 import com.google.firebase.storage.FirebaseStorage;
 import com.google.firebase.storage.StorageReference;
+import android.view.inputmethod.InputMethodManager;
 
 /**
  * A simple {@link Fragment} subclass.
@@ -109,6 +115,27 @@
                 //firebaseRecipeSearch(mSearchField.getText().toString());
                 getQuery(mSearchField.getText().toString());
                 adapter.startListening();
+                InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);
+                inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);
+            }
+        });
+
+        mSearchField.setOnKeyListener(new View.OnKeyListener() {
+            @Override
+            public boolean onKey(View view, int i, KeyEvent keyEvent) {
+                if(keyEvent.getAction() == KeyEvent.ACTION_DOWN){
+                    switch(i){
+                        case KeyEvent.KEYCODE_ENTER:
+                            getQuery(mSearchField.getText().toString());
+                            adapter.startListening();
+                            InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);
+                            inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);
+                            return true;
+                        default:
+                            break;
+                    }
+                }
+                return false;
             }
         });
 
@@ -121,11 +148,12 @@
     }
 
 
-    private class RecipeModelViewHolder extends RecyclerView.ViewHolder{
+    private class RecipeModelViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{
 
         TextView name, author, cookingtime;
         RatingBar rating;
         ImageView image;
+        String recipeid;
 
 
 
@@ -133,19 +161,23 @@
             super(itemView);
             this.name = itemView.findViewById(R.id.recipe_name);
             this.author = itemView.findViewById(R.id.recipe_author);
-            this.cookingtime = itemView.findViewById(R.id.recipe_time);
             this.rating = itemView.findViewById(R.id.recipe_rating);
             this.image = itemView.findViewById(R.id.recipe_image);
+            itemView.setOnClickListener(this);
+
         }
+
+
 
         public void setRecipe(RecipeModel recipe){
-            String temps = "Temps : " + recipe.getTemps_Cuisson() + " minutes";
             this.name.setText(recipe.getNom_Recette());
-            this.cookingtime.setText(temps);
             this.rating.setRating(Float.parseFloat(recipe.getRating()));
+            this.recipeid = recipe.getRecipe_id();
 
             final TextView aut = this.author;
             final ImageView img = this.image;
+
+            /*Get Username*/
             fStore = FirebaseFirestore.getInstance();
             fStore.collection("users").document(recipe.getAuteur()).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
                 @Override
@@ -154,18 +186,26 @@
                     aut.setText(auteur);
                 }
             });
-            if(!recipe.getRecipe_id().equals("placeholder"))
-            fStore.collection("recipes").document(recipe.getRecipe_id()).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
-                @Override
-                public void onSuccess(DocumentSnapshot documentSnapshot) {
-                    final StorageReference pathphoto1 = mStorageRef.child("Recipes_pics").child(documentSnapshot.getString("Recipe_Pic"));
-                    /* Si problème rebuild le projet */
-                    GlideApp.with(getActivity().getApplicationContext()).load(pathphoto1).into(img);
-                }
-            });
+
+            /*Get Photo*/
+            if(recipe.getRecipe_id().equals("placeholder") == false){
+                fStore.collection("recipes").document(recipe.getRecipe_id()).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
+                    @Override
+                    public void onSuccess(DocumentSnapshot documentSnapshot) {
+                        final StorageReference pathphoto1 = mStorageRef.child("Recipes_pics").child(documentSnapshot.getString("Recipe_Pic"));
+                        /* Si problème rebuild le projet */
+                        GlideApp.with(getActivity().getApplicationContext()).load(pathphoto1).into(img);
+                    }
+                });
+            }
+        }
 
+        @Override
+        public void onClick(View view) {
+            Intent i = new Intent(getActivity().getApplicationContext(), AffichageRecette.class);
+            i.putExtra("key", recipeid);
+            startActivity(i);
         }
-
     }
 
 
Index: app/src/main/java/com/example/projetrecette/NavigationBar/Favorite/FavoriteFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.NavigationBar.Favorite;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Handler;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.RatingBar;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.projetrecette.Drawer.MesRecettes.mesRecettesActivity;\r\nimport com.example.projetrecette.GlideApp;\r\nimport com.example.projetrecette.R;\r\nimport com.example.projetrecette.Recette.AffichageRecette;\r\nimport com.example.projetrecette.Recette.RecipeModel;\r\nimport com.example.projetrecette.Recette.newRecetteActivity;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerAdapter;\r\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\nimport javax.security.auth.callback.Callback;\r\n\r\n\r\npublic class FavoriteFragment extends Fragment {\r\n\r\n    StorageReference mStorageRef;\r\n    FirebaseAuth fAuth;\r\n    FirebaseFirestore fStore;\r\n    String userId;\r\n    RecyclerView mResultList;\r\n    FirestoreRecyclerAdapter adapter;\r\n    ArrayList<String> listFav;\r\n    Query query;\r\n    Boolean isFav = false;\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if(user != null){\r\n\r\n            View view = inflater.inflate(R.layout.fragment_favorite_logged, container, false);\r\n            setAttribut();\r\n            listFav = new ArrayList<String>();\r\n            mResultList = view.findViewById(R.id.recycler_view_fav);\r\n            getFav();\r\n\r\n            return view;\r\n        }else{\r\n            return inflater.inflate(R.layout.fragment_favorite, container, false);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    public void getFav(){\r\n\r\n        fStore.collection(\"users\").document(userId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                listFav = (ArrayList<String>) documentSnapshot.getData().get(\"Mes_Favoris\");\r\n                System.out.println(listFav);\r\n                if(!listFav.isEmpty()){\r\n                    getQuery();\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    public void getQuery(){\r\n\r\n        //Query query = fStore.collection(\"recipes\").whereIn(\"Mes_Favoris\", listFav);\r\n        Query query = fStore.collection(\"recipes\").whereEqualTo(\"Auteur\", userId);\r\n        FirestoreRecyclerOptions<RecipeModel> options = new FirestoreRecyclerOptions.Builder<RecipeModel>().setQuery(query, RecipeModel.class).build();\r\n        adapter = new FirestoreRecyclerAdapter<RecipeModel, RecipeModelViewHolder>(options) {\r\n\r\n            @NonNull\r\n            @Override\r\n            public RecipeModelViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_item_recipe, parent, false);\r\n                return new RecipeModelViewHolder(view);\r\n            }\r\n\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull RecipeModelViewHolder holder, final int position, @NonNull final RecipeModel model) {\r\n                holder.setRecipe(model);\r\n            }\r\n        };\r\n\r\n        mResultList.setLayoutManager(new LinearLayoutManager(this.getContext()));\r\n        mResultList.setAdapter(adapter);\r\n        adapter.startListening();\r\n        adapter.notifyDataSetChanged();\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        if (adapter != null){\r\n            adapter.stopListening();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n    }\r\n\r\n\r\n    private class RecipeModelViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n\r\n        TextView name, author, cookingtime;\r\n        RatingBar rating;\r\n        ImageView image;\r\n        String recipeid;\r\n\r\n\r\n\r\n        public RecipeModelViewHolder(@NonNull View itemView){\r\n            super(itemView);\r\n            this.name = itemView.findViewById(R.id.recipe_name);\r\n            this.author = itemView.findViewById(R.id.recipe_author);\r\n            this.cookingtime = itemView.findViewById(R.id.recipe_time);\r\n            this.rating = itemView.findViewById(R.id.recipe_rating);\r\n            this.image = itemView.findViewById(R.id.recipe_image);\r\n            itemView.setOnClickListener(this);\r\n\r\n        }\r\n\r\n\r\n\r\n        public void setRecipe(RecipeModel recipe){\r\n            String temps = \"Temps : \" + recipe.getTemps_Cuisson() + \" minutes\";\r\n            this.name.setText(recipe.getNom_Recette());\r\n            this.cookingtime.setText(temps);\r\n            this.rating.setRating(Float.parseFloat(recipe.getRating()));\r\n            this.recipeid = recipe.getRecipe_id();\r\n\r\n            final TextView aut = this.author;\r\n            final ImageView img = this.image;\r\n\r\n            /*Get Username*/\r\n            fStore = FirebaseFirestore.getInstance();\r\n            fStore.collection(\"users\").document(recipe.getAuteur()).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n                @Override\r\n                public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                    String auteur = \"Par \" + documentSnapshot.getString(\"Fullname\");\r\n                    aut.setText(auteur);\r\n                }\r\n            });\r\n\r\n            /*Get Photo*/\r\n            if(recipe.getRecipe_id().equals(\"placeholder\") == false){\r\n                fStore.collection(\"recipes\").document(recipe.getRecipe_id()).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                        final StorageReference pathphoto1 = mStorageRef.child(\"Recipes_pics\").child(documentSnapshot.getString(\"Recipe_Pic\"));\r\n                        /* Si problème rebuild le projet */\r\n                        GlideApp.with(getActivity().getApplicationContext()).load(pathphoto1).into(img);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            Intent i = new Intent(getActivity().getApplicationContext(), AffichageRecette.class);\r\n            i.putExtra(\"key\", recipeid);\r\n            startActivity(i);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public void setAttribut(){\r\n        fStore = FirebaseFirestore.getInstance();\r\n        fAuth = FirebaseAuth.getInstance();\r\n        userId = fAuth.getCurrentUser().getUid();\r\n\r\n        mStorageRef = FirebaseStorage.getInstance().getReference();\r\n\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/NavigationBar/Favorite/FavoriteFragment.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/NavigationBar/Favorite/FavoriteFragment.java	(date 1607637392529)
@@ -4,14 +4,17 @@
 import android.os.Bundle;
 
 import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
 import androidx.fragment.app.Fragment;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
 
+import android.os.CountDownTimer;
 import android.os.Handler;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.Adapter;
 import android.widget.ImageView;
 import android.widget.RatingBar;
 import android.widget.TextView;
@@ -51,8 +54,6 @@
     RecyclerView mResultList;
     FirestoreRecyclerAdapter adapter;
     ArrayList<String> listFav;
-    Query query;
-    Boolean isFav = false;
 
 
     @Override
@@ -65,7 +66,7 @@
             setAttribut();
             listFav = new ArrayList<String>();
             mResultList = view.findViewById(R.id.recycler_view_fav);
-            getFav();
+
 
             return view;
         }else{
@@ -75,28 +76,21 @@
     }
 
 
-
-
     public void getFav(){
-
         fStore.collection("users").document(userId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
             @Override
             public void onSuccess(DocumentSnapshot documentSnapshot) {
                 listFav = (ArrayList<String>) documentSnapshot.getData().get("Mes_Favoris");
                 System.out.println(listFav);
-                if(!listFav.isEmpty()){
-                    getQuery();
-                }
+
             }
         });
-
     }
 
+    public void getQuery2(){
 
-    public void getQuery(){
-
-        //Query query = fStore.collection("recipes").whereIn("Mes_Favoris", listFav);
-        Query query = fStore.collection("recipes").whereEqualTo("Auteur", userId);
+        Query query = fStore.collection("recipes").whereIn("Recipe_id", listFav);
+        //Query query = fStore.collection("recipes").whereEqualTo("Auteur", userId);
         FirestoreRecyclerOptions<RecipeModel> options = new FirestoreRecyclerOptions.Builder<RecipeModel>().setQuery(query, RecipeModel.class).build();
         adapter = new FirestoreRecyclerAdapter<RecipeModel, RecipeModelViewHolder>(options) {
 
@@ -118,9 +112,32 @@
         adapter.startListening();
         adapter.notifyDataSetChanged();
 
+    }
 
 
+    @Override
+    public void onResume() {
+        super.onResume();
+        if(userId != null){
+            getFav();
 
+            CountDownTimer c = new CountDownTimer(1000,500) {
+                @Override
+                public void onTick(long l) {
+
+                }
+
+                @Override
+                public void onFinish() {
+                    if(!listFav.isEmpty()){
+                        getQuery2();
+                    }
+                }
+            };
+            c.start();
+        }
+
+
     }
 
     @Override
@@ -137,6 +154,7 @@
     }
 
 
+
     private class RecipeModelViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{
 
         TextView name, author, cookingtime;
@@ -150,7 +168,6 @@
             super(itemView);
             this.name = itemView.findViewById(R.id.recipe_name);
             this.author = itemView.findViewById(R.id.recipe_author);
-            this.cookingtime = itemView.findViewById(R.id.recipe_time);
             this.rating = itemView.findViewById(R.id.recipe_rating);
             this.image = itemView.findViewById(R.id.recipe_image);
             itemView.setOnClickListener(this);
@@ -160,9 +177,7 @@
 
 
         public void setRecipe(RecipeModel recipe){
-            String temps = "Temps : " + recipe.getTemps_Cuisson() + " minutes";
             this.name.setText(recipe.getNom_Recette());
-            this.cookingtime.setText(temps);
             this.rating.setRating(Float.parseFloat(recipe.getRating()));
             this.recipeid = recipe.getRecipe_id();
 
Index: app/src/main/res/layout/activity_aides.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_aides.xml	(date 1607701233878)
+++ app/src/main/res/layout/activity_aides.xml	(date 1607701233878)
@@ -0,0 +1,105 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".Drawer.Aides.AidesActivity">
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:orientation="vertical">
+
+        <androidx.appcompat.widget.Toolbar
+            android:id="@+id/toolbar"
+            android:layout_width="match_parent"
+            android:layout_height="?attr/actionBarSize"
+            android:background="@drawable/gradient"
+            android:elevation="4dp"
+            android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"
+            app:popupTheme="@style/ThemeOverlay.AppCompat.Light"/>
+
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:orientation="vertical"
+            android:layout_margin="20dp">
+
+            <TextView
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:text="Informations sur les Allergies"
+                android:gravity="center"
+                android:textSize="22dp"
+                android:textColor="@color/colorAccent"/>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:orientation="vertical"
+                android:layout_marginVertical="20dp">
+
+                <TextView
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:textSize="18dp"
+                    android:text="G - Gluten"/>
+
+                <TextView
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:textSize="18dp"
+                    android:text="A - Arachid"/>
+                <TextView
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:textSize="18dp"
+                    android:text="L - Lait"/>
+                <TextView
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:textSize="18dp"
+                    android:text="CR - Crustacé"/>
+                <TextView
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:textSize="18dp"
+                    android:text="CE - Célerie"/>
+                <TextView
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:textSize="18dp"
+                    android:text="F - Fruit à Coq"/>
+                <TextView
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:textSize="18dp"
+                    android:text="P - Poisson"/>
+
+                <TextView
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:textSize="18dp"
+                    android:text="M - Moutarde"/>
+
+
+            </LinearLayout>
+
+
+
+
+
+        </LinearLayout>
+
+
+
+
+    </LinearLayout>
+
+
+
+
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/projetrecette/Recette/AffichageRecette.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.projetrecette.Recette;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\n\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.media.Image;\r\nimport android.os.Bundle;\r\nimport android.text.Html;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.RatingBar;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.projetrecette.GlideApp;\r\nimport com.example.projetrecette.R;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class AffichageRecette extends AppCompatActivity {\r\n\r\n    FirebaseFirestore fStore;\r\n    FirebaseAuth fAuth;\r\n    StorageReference mStorageRef;\r\n    String userId;\r\n    String recipeId;\r\n    TextView nomRecette, author, prep, cuisson, ingredient, recette;\r\n    RatingBar difficulty, rating;\r\n    ImageView image, btn_favoris, btn_edit;\r\n    boolean isFavourite = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_affichage_recette);\r\n        addToolbar();\r\n        setAttribut();\r\n        recipeId = getIntent().getStringExtra(\"key\");\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        initialisation();\r\n        favoris();\r\n    }\r\n\r\n    public void favoris(){\r\n\r\n        this.btn_favoris.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(isFavourite){\r\n                    btn_favoris.setColorFilter(Color.parseColor(\"#9e9e9e\"));\r\n                    isFavourite = false;\r\n                }else{\r\n                    btn_favoris.setColorFilter(Color.parseColor(\"#f48fb1\"));\r\n                    isFavourite = true;\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        fStore.collection(\"users\").document(userId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                ArrayList<String> o = (ArrayList<String>) documentSnapshot.getData().get(\"Mes_Favoris\");\r\n                if(o.contains(recipeId) && !isFavourite){\r\n                    o.remove(recipeId);\r\n                    fStore.collection(\"users\").document(userId).update(\"Mes_Favoris\", o);\r\n                }\r\n                if(!o.contains(recipeId) && isFavourite){\r\n                    o.add(recipeId);\r\n                    fStore.collection(\"users\").document(userId).update(\"Mes_Favoris\", o);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void initialisation(){\r\n\r\n        this.nomRecette = findViewById(R.id.affichage_nom_recette);\r\n        this.author = findViewById(R.id.affichage_author);\r\n        this.prep = findViewById(R.id.affichage_prep);\r\n        this.cuisson = findViewById(R.id.affichage_cuisson);\r\n        this.ingredient = findViewById(R.id.affichage_ingre);\r\n        this.recette = findViewById(R.id.affichage_recette);\r\n        this.image = findViewById(R.id.affichage_image);\r\n        this.rating = findViewById(R.id.affichage_ratingbar);\r\n        this.difficulty = findViewById(R.id.affichage_difficulty);\r\n        this.btn_favoris = findViewById(R.id.affichage_favoris);\r\n        this.btn_edit = findViewById(R.id.affichage_edit);\r\n        btn_favoris.setColorFilter(Color.parseColor(\"#9e9e9e\"));\r\n\r\n        fStore.collection(\"recipes\").document(recipeId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n\r\n                fStore.collection(\"users\").document(documentSnapshot.getString(\"Auteur\")).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                        String auteur = \"Par \" + documentSnapshot.getString(\"Fullname\");\r\n                        author.setText(auteur);\r\n                    }\r\n                });\r\n                String b = documentSnapshot.getString(\"Temps_Preparation\") + \" min\";\r\n                String c = documentSnapshot.getString(\"Temps_Cuisson\") + \" min\";\r\n                nomRecette.setText(documentSnapshot.getString(\"Nom_Recette\"));\r\n                rating.setRating(Float.parseFloat(documentSnapshot.getString(\"Rating\")));\r\n                difficulty.setRating(Float.parseFloat(documentSnapshot.getString(\"Difficulty\")));\r\n                prep.setText(b);\r\n                cuisson.setText(c);\r\n                ingredient.setText(Html.fromHtml(documentSnapshot.getString(\"Ingredient\")));\r\n                recette.setText(Html.fromHtml(documentSnapshot.getString(\"Recette\")));\r\n                final StorageReference pathphoto = mStorageRef.child(\"Recipes_pics\").child(documentSnapshot.getString(\"Recipe_Pic\"));\r\n                GlideApp.with(getApplicationContext()).load(pathphoto).into(image);\r\n\r\n                if(userId.equals(documentSnapshot.getString(\"Auteur\"))){\r\n                    btn_edit.setVisibility(View.VISIBLE);\r\n                    onClickEdit();\r\n                }else{\r\n                    btn_edit.setVisibility(View.INVISIBLE);\r\n                }\r\n\r\n            }\r\n        });\r\n        fStore.collection(\"users\").document(userId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                ArrayList<String> o = (ArrayList<String>) documentSnapshot.getData().get(\"Mes_Favoris\");\r\n                if(o.contains(recipeId)){\r\n                    btn_favoris.setColorFilter(Color.parseColor(\"#f48fb1\"));\r\n                    isFavourite = true;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public void onClickEdit(){\r\n        btn_edit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent i = new Intent(getApplicationContext(), editRecetteActivity.class);\r\n                i.putExtra(\"key\", recipeId);\r\n                startActivity(i);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    public void setAttribut(){\r\n        fStore = FirebaseFirestore.getInstance();\r\n        fAuth = FirebaseAuth.getInstance();\r\n        userId = fAuth.getCurrentUser().getUid();\r\n        mStorageRef = FirebaseStorage.getInstance().getReference();\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    public void addToolbar(){\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        onBackPressed();\r\n        return true;\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/Recette/AffichageRecette.java	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/java/com/example/projetrecette/Recette/AffichageRecette.java	(date 1607690177366)
@@ -10,6 +10,7 @@
 import android.text.Html;
 import android.view.View;
 import android.widget.ImageView;
+import android.widget.LinearLayout;
 import android.widget.RatingBar;
 import android.widget.TextView;
 
@@ -34,8 +35,10 @@
     String userId;
     String recipeId;
     TextView nomRecette, author, prep, cuisson, ingredient, recette;
-    RatingBar difficulty, rating;
+    RatingBar difficulty, rating, rate;
     ImageView image, btn_favoris, btn_edit;
+    LinearLayout ratebar;
+    long nbclick;
     boolean isFavourite = false;
 
     @Override
@@ -44,6 +47,7 @@
         setContentView(R.layout.activity_affichage_recette);
         addToolbar();
         setAttribut();
+
         recipeId = getIntent().getStringExtra("key");
     }
 
@@ -52,10 +56,21 @@
         super.onResume();
         initialisation();
         favoris();
+        ratebarVisi();
+    }
+
+
+    public void ratebarVisi(){
+        this.ratebar = findViewById(R.id.affichage_layout_rate);
+        if(userId == null){
+            this.ratebar.setVisibility(View.INVISIBLE);
+        }else{
+            this.ratebar.setVisibility(View.VISIBLE);
+        }
+
     }
 
     public void favoris(){
-
         this.btn_favoris.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
@@ -71,25 +86,48 @@
 
     }
 
+    public void rating(){
+        fStore.collection("recipes").document(recipeId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
+            @Override
+            public void onSuccess(DocumentSnapshot documentSnapshot) {
+                Map<String, String> map = (Map<String, String>) documentSnapshot.get("UserRating");
+                map.put(userId, String.valueOf(rate.getRating()));
+                fStore.collection("recipes").document(recipeId).update("UserRating", map);
+                float sum = 0;
+                for(String key : map.keySet()){
+                    if(!map.get(key).equals("empty")){
+                        sum += Float.parseFloat(map.get(key));
+                    }
+                }
+                float average = sum/map.size();
+                fStore.collection("recipes").document(recipeId).update("Rating", String.valueOf(average));
+            }
+        });
+    }
+
     @Override
     protected void onPause() {
         super.onPause();
-        fStore.collection("users").document(userId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
-            @Override
-            public void onSuccess(DocumentSnapshot documentSnapshot) {
-                ArrayList<String> o = (ArrayList<String>) documentSnapshot.getData().get("Mes_Favoris");
-                if(o.contains(recipeId) && !isFavourite){
-                    o.remove(recipeId);
-                    fStore.collection("users").document(userId).update("Mes_Favoris", o);
-                }
-                if(!o.contains(recipeId) && isFavourite){
-                    o.add(recipeId);
-                    fStore.collection("users").document(userId).update("Mes_Favoris", o);
-                }
-            }
-        });
-    }
+        if(userId != null){
+            rating();
+            fStore.collection("users").document(userId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
+                @Override
+                public void onSuccess(DocumentSnapshot documentSnapshot) {
+                    ArrayList<String> o = (ArrayList<String>) documentSnapshot.getData().get("Mes_Favoris");
+                    if(o.contains(recipeId) && !isFavourite){
+                        o.remove(recipeId);
+                        fStore.collection("users").document(userId).update("Mes_Favoris", o);
+                    }
+                    if(!o.contains(recipeId) && isFavourite){
+                        o.add(recipeId);
+                        fStore.collection("users").document(userId).update("Mes_Favoris", o);
+                    }
+                }
+            });
+        }
 
+    }
+
     public void initialisation(){
 
         this.nomRecette = findViewById(R.id.affichage_nom_recette);
@@ -100,9 +138,11 @@
         this.recette = findViewById(R.id.affichage_recette);
         this.image = findViewById(R.id.affichage_image);
         this.rating = findViewById(R.id.affichage_ratingbar);
+        this.rate = findViewById(R.id.affichage_rate);
         this.difficulty = findViewById(R.id.affichage_difficulty);
         this.btn_favoris = findViewById(R.id.affichage_favoris);
         this.btn_edit = findViewById(R.id.affichage_edit);
+
         btn_favoris.setColorFilter(Color.parseColor("#9e9e9e"));
 
         fStore.collection("recipes").document(recipeId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
@@ -128,30 +168,54 @@
                 final StorageReference pathphoto = mStorageRef.child("Recipes_pics").child(documentSnapshot.getString("Recipe_Pic"));
                 GlideApp.with(getApplicationContext()).load(pathphoto).into(image);
 
-                if(userId.equals(documentSnapshot.getString("Auteur"))){
-                    btn_edit.setVisibility(View.VISIBLE);
-                    onClickEdit();
+                nbclick = (long) documentSnapshot.get("Click");
+                nbclick += 1;
+                fStore.collection("recipes").document(recipeId).update("Click", nbclick);
+
+                if(userId != null){
+
+                    Map<String, String> map = (Map<String, String>) documentSnapshot.get("UserRating");
+                    if(!map.isEmpty()){
+                        if(map.containsKey(userId)){
+                            rate.setRating(Float.parseFloat(map.get(userId)));
+                        }
+                    }
+
+
+
+                    if(userId.equals(documentSnapshot.getString("Auteur"))){
+                        btn_edit.setVisibility(View.VISIBLE);
+                        onClickEdit();
+                    }else{
+                        btn_edit.setVisibility(View.INVISIBLE);
+                    }
                 }else{
                     btn_edit.setVisibility(View.INVISIBLE);
                 }
 
+
             }
         });
-        fStore.collection("users").document(userId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
-            @Override
-            public void onSuccess(DocumentSnapshot documentSnapshot) {
-                ArrayList<String> o = (ArrayList<String>) documentSnapshot.getData().get("Mes_Favoris");
-                if(o.contains(recipeId)){
-                    btn_favoris.setColorFilter(Color.parseColor("#f48fb1"));
-                    isFavourite = true;
-                }
-            }
-        });
-
+        if(userId != null){
+            btn_favoris.setVisibility(View.VISIBLE);
+            fStore.collection("users").document(userId).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
+                @Override
+                public void onSuccess(DocumentSnapshot documentSnapshot) {
+                    ArrayList<String> o = (ArrayList<String>) documentSnapshot.getData().get("Mes_Favoris");
+                    if(o.contains(recipeId)){
+                        btn_favoris.setColorFilter(Color.parseColor("#f48fb1"));
+                        isFavourite = true;
+                    }
+                }
+            });
+        }else{
+            btn_favoris.setVisibility(View.INVISIBLE);
+        }
 
     }
 
     public void onClickEdit(){
+
         btn_edit.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
@@ -167,7 +231,12 @@
     public void setAttribut(){
         fStore = FirebaseFirestore.getInstance();
         fAuth = FirebaseAuth.getInstance();
-        userId = fAuth.getCurrentUser().getUid();
+        if(fAuth.getCurrentUser() != null){
+            userId = fAuth.getCurrentUser().getUid();
+        }else{
+            userId = null;
+        }
+
         mStorageRef = FirebaseStorage.getInstance().getReference();
 
 
Index: app/src/main/java/com/example/projetrecette/Drawer/Aides/AidesActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/projetrecette/Drawer/Aides/AidesActivity.java	(date 1607701233886)
+++ app/src/main/java/com/example/projetrecette/Drawer/Aides/AidesActivity.java	(date 1607701233886)
@@ -0,0 +1,31 @@
+package com.example.projetrecette.Drawer.Aides;
+
+import androidx.appcompat.app.AppCompatActivity;
+import androidx.appcompat.widget.Toolbar;
+
+import android.os.Bundle;
+
+import com.example.projetrecette.R;
+
+public class AidesActivity extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_aides);
+        addToolbar();
+    }
+
+    public void addToolbar(){
+        Toolbar toolbar = findViewById(R.id.toolbar);
+        setSupportActionBar(toolbar);
+        getSupportActionBar().setDisplayHomeAsUpEnabled(true);
+        getSupportActionBar().setDisplayShowHomeEnabled(true);
+    }
+
+    @Override
+    public boolean onSupportNavigateUp() {
+        onBackPressed();
+        return true;
+    }
+}
\ No newline at end of file
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.projetrecette\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/>\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".Recette.newRecetteActivity\"></activity>\r\n        <activity android:name=\".Drawer.MesRecettes.mesRecettesActivity\" />\r\n        <activity android:name=\".Drawer.MonCompte.MonCompte\" />\r\n        <activity android:name=\".Drawer.SignUp.SignUpActivity\" />\r\n        <activity android:name=\".Drawer.Login.LoginActivity\" />\r\n        <activity android:name=\".Recette.AffichageRecette\" />\r\n        <activity android:name=\".Recette.editRecetteActivity\" />\r\n\r\n        <activity android:name=\".MainActivity\"\r\n            android:windowSoftInputMode=\"adjustPan\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 5c30db416f8e5e6d691b7e63204c99b4438a6b63)
+++ app/src/main/AndroidManifest.xml	(date 1607698617729)
@@ -3,7 +3,7 @@
     package="com.example.projetrecette">
 
     <uses-permission android:name="android.permission.INTERNET" />
-    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
+    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
 
     <application
         android:allowBackup="true"
@@ -12,15 +12,17 @@
         android:roundIcon="@mipmap/ic_launcher_round"
         android:supportsRtl="true"
         android:theme="@style/AppTheme">
-        <activity android:name=".Recette.newRecetteActivity"></activity>
+        <activity android:name=".Drawer.Aides.AidesActivity"></activity>
+        <activity android:name=".Recette.newRecetteActivity" />
         <activity android:name=".Drawer.MesRecettes.mesRecettesActivity" />
         <activity android:name=".Drawer.MonCompte.MonCompte" />
         <activity android:name=".Drawer.SignUp.SignUpActivity" />
         <activity android:name=".Drawer.Login.LoginActivity" />
         <activity android:name=".Recette.AffichageRecette" />
         <activity android:name=".Recette.editRecetteActivity" />
-
-        <activity android:name=".MainActivity"
+        <activity android:name=".Drawer.MonCompte.ChangeEmail" />
+        <activity
+            android:name=".MainActivity"
             android:windowSoftInputMode="adjustPan">
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
Index: app/src/main/res/drawable/ic_baseline_help_24.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_baseline_help_24.xml	(date 1607691620108)
+++ app/src/main/res/drawable/ic_baseline_help_24.xml	(date 1607691620108)
@@ -0,0 +1,10 @@
+<vector xmlns:android="http://schemas.android.com/apk/res/android"
+    android:width="24dp"
+    android:height="24dp"
+    android:viewportWidth="24"
+    android:viewportHeight="24"
+    android:tint="?attr/colorControlNormal">
+  <path
+      android:fillColor="@android:color/white"
+      android:pathData="M12,2C6.48,2 2,6.48 2,12s4.48,10 10,10 10,-4.48 10,-10S17.52,2 12,2zM13,19h-2v-2h2v2zM15.07,11.25l-0.9,0.92C13.45,12.9 13,13.5 13,15h-2v-0.5c0,-1.1 0.45,-2.1 1.17,-2.83l1.24,-1.26c0.37,-0.36 0.59,-0.86 0.59,-1.41 0,-1.1 -0.9,-2 -2,-2s-2,0.9 -2,2L8,9c0,-2.21 1.79,-4 4,-4s4,1.79 4,4c0,0.88 -0.36,1.68 -0.93,2.25z"/>
+</vector>
